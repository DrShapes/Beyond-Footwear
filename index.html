<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shapes Beyond Footwear</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Urbanist -->
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Default to dark mode styles for html and body */
        html, body {
            background-color: #000000 !important; /* Pure black background by default */
            color: #e2e8f0; /* Light text by default */
            font-family: 'Urbanist', sans-serif; /* Use the Urbanist font */
            position: relative; /* Needed for pseudo-elements */
            min-height: 100vh; /* Ensure body takes full height for background */
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition for theme change */
            z-index: 0; /* Ensures content sits above it */
        }

        /* Styles for light mode when 'light-mode' class is active */
        html.light-mode, body.light-mode {
            background-color: #ffffff !important; /* Pure white background in light mode */
            color: #000000 !important; /* Pure black text in light mode */
        }

        /* Removed: Force all text to black in light mode, if not already covered by html.light-mode */
        /* body:not(.dark) .text-black-force {
            color: #000000 !important;
        } */

        /* Remove background image layer and overlay */
        body::after,
        body::before {
            content: none; /* Remove pseudo-elements entirely */
        }

        /* Glassy effect for content boxes (Liquid Glass look) */
        .glassy-box {
            background: transparent; /* Fully transparent for both modes */
            backdrop-filter: blur(10px) saturate(180%); /* Frosted glass with saturation */
            -webkit-backdrop-filter: blur(10px) saturate(180%); /* For Safari */
            border-radius: 1rem; /* Consistent with rounded-xl */
            transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease;
        }

        /* Borders and shadows specific to dark mode for glassy-box */
        html:not(.light-mode) .glassy-box, body:not(.light-mode) .glassy-box {
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 150, 255, 0.2); /* Adjusted for dark mode */
        }

        /* Borders and shadows specific to light mode for glassy-box */
        html.light-mode .glassy-box, body.light-mode .glassy-box {
            border: 1px solid rgba(0, 0, 0, 0.05); /* Very subtle border for light mode */
            box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05); /* Very subtle shadow for light mode */
        }

        /* Ensure video fills its container and maintains aspect ratio */
        .glassy-box video {
            object-fit: contain; /* Changed from 'cover' to 'contain' */
            width: 100%;
            height: 100%;
            display: block;
            background-color: #000; /* Optional: adds black bars if needed */
        }

        /* Apple-style button base */
        .apple-button {
            /* Adjusted padding and min-width */
            padding: 1.5rem 3.5rem; /* Reduced horizontal padding slightly */
            min-width: 320px; /* Reduced min-width slightly */
            font-weight: 600; /* font-semibold */
            border-radius: 1rem; /* rounded-xl */
            transition: all 0.3s ease; /* transition duration-300 */
            display: inline-block; /* Ensure padding applies correctly */
        }

        /* Explicitly remove focus outline and border for all buttons */
        button:focus,
        button:focus-visible {
            outline: none !important;
            box-shadow: none !important;
            border: none !important; /* Added to aggressively remove any default borders */
        }

        /* Specific override for the schedule-cta button to ensure no blue outline or border */
        #schedule-cta:focus,
        #schedule-cta:focus-visible {
            outline: none !important;
            box-shadow: none !important;
            border: none !important; /* Added to aggressively remove any default borders */
        }

        /* Modal styling */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            margin: auto;
            padding: 1.5rem; /* Reduced padding */
            position: relative;
            max-width: 90%; /* Keep max-width for responsiveness */
            width: 700px; /* Increased default width for better Calendly display */
            height: 95vh; /* Make it take up most of the viewport height */
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            color: #000000; /* Default text color for modal content */
            overflow: hidden; /* Hide modal scrollbar */
            border-radius: 1rem; /* Keep border-radius from glassy-box */
        }
        /* Modal content text color based on theme */
        html.light-mode .modal-content {
            color: #000000; /* Black text for modal content in light mode */
        }
        html:not(.light-mode) .modal-content {
            color: #e2e8f0; /* Light text for modal content in dark mode */
        }

        .close-button {
            color: #000000; /* Pure Black for light mode */
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
        }
        /* Close button color based on theme */
        html.light-mode .close-button {
            color: #000000; /* Pure black on hover in light mode */
        }
        html:not(.light-mode) .close-button {
            color: #cbd5e0; /* Adjusted for dark background */
        }
        html.light-mode .close-button:hover,
        html.light-mode .close-button:focus {
            color: #000000; /* Pure black on hover */
        }
        html:not(.light-mode) .close-button:hover,
        html:not(.light-mode) .close-button:focus {
            color: #fefefe; /* Adjusted for dark background */
        }

        /* Calendly iframe container styling */
        .calendly-iframe-container {
            position: relative;
            width: 100%;
            flex-grow: 1; /* Allow it to take up available vertical space */
            height: 0; /* Important for flex-grow to work correctly in a column layout */
            overflow: hidden; /* Hide scrollbars of the container */
            border-radius: 0.5rem;
            margin-top: 1rem; /* Add some space below title */
            display: flex; /* Make it a flex container for the iframe */
            justify-content: center; /* Center iframe horizontally */
            align-items: center; /* Center iframe vertically */
        }

        .calendly-iframe {
            width: 100%;
            height: 100%;
            border: 0;
            /* Attempt to influence color scheme - may not work due to cross-origin policy */
            color-scheme: light;
        }
        /* Ensure modal title doesn't shrink */
        .modal-content h2 {
            flex-shrink: 0;
        }

        /* Cookie Banner Styling */
        #cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 1.5rem; /* Increased padding */
            background-color: rgba(0, 0, 0, 0.7); /* Darker, semi-transparent background */
            backdrop-filter: blur(8px); /* Subtle blur */
            -webkit-backdrop-filter: blur(8px);
            color: #e2e8f0; /* Light text */
            text-align: center;
            z-index: 1000; /* Ensure it's above other content */
            display: flex; /* Use flexbox for layout */
            flex-direction: column; /* Stack items vertically on small screens */
            align-items: center; /* Center items horizontally */
            justify-content: center;
            gap: 1rem; /* Space between elements */
            border-top: 1px solid rgba(255, 255, 255, 0.1); /* Subtle top border */
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.3); /* Shadow for depth */
        }

        #cookie-banner.light-mode {
            background-color: rgba(255, 255, 255, 0.8); /* Lighter, semi-transparent background */
            color: #000000; /* Dark text */
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1);
        }

        #cookie-banner .cookie-buttons {
            display: flex;
            gap: 1rem; /* Space between buttons */
            flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
            justify-content: center;
        }

        #cookie-banner button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease; /* Added box-shadow to transition */
            white-space: nowrap; /* Prevent button text from wrapping */
        }

        #cookie-banner button.accept-button {
            background-color: transparent; /* Made transparent */
            color: #22c55e; /* Green text */
            border: 1px solid #22c55e; /* Green border */
        }

        #cookie-banner button.accept-button:hover {
            background-color: rgba(34, 197, 94, 0.1); /* Very subtle green tint */
            color: #22c55e;
            border-color: #22c55e;
            transform: translateY(-2px) scale(1.02); /* Slight lift and scale */
            box-shadow: 0 4px 10px rgba(34, 197, 94, 0.3); /* Green shadow */
        }

        #cookie-banner button.decline-button {
            background-color: transparent; /* Made transparent */
            color: #ef4444; /* Red text */
            border: 1px solid #ef4444; /* Red border */
        }

        #cookie-banner button.decline-button:hover {
            background-color: rgba(239, 68, 68, 0.1); /* Very subtle red tint */
            color: #ef4444;
            border-color: #ef4444;
            transform: translateY(-2px) scale(1.02); /* Slight lift and scale */
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3); /* Red shadow */
        }

        /* Responsive adjustments for cookie banner */
        @media (min-width: 768px) {
            #cookie-banner {
                flex-direction: row; /* Horizontal layout on larger screens */
                justify-content: space-between; /* Space out content and buttons */
            }
            #cookie-banner .cookie-buttons {
                flex-wrap: nowrap; /* Prevent buttons from wrapping */
            }
        }

        /* New styles for cookie info modal */
        #cookie-info-modal .modal-content {
            max-width: 800px; /* Wider for more text */
            height: 90vh; /* Allow more vertical space */
            overflow-y: auto; /* Enable scrolling for content */
            text-align: left; /* Align text left */
        }

        #cookie-info-modal .modal-content h2 {
            text-align: center; /* Center title */
            margin-bottom: 1.5rem;
        }

        #cookie-info-modal .modal-content h3 {
            font-size: 1.5rem; /* Larger subheadings */
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        #cookie-info-modal .modal-content p,
        #cookie-info-modal .modal-content ul {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        #cookie-info-modal .modal-content ul {
            list-style-type: disc;
            margin-left: 1.5rem;
        }
    </style>
    <!-- Script to ensure dark mode is always loaded first unless explicitly set to light -->
    <script>
        // Check localStorage for theme preference immediately
        const savedTheme = localStorage.getItem('theme');

        // Assume dark mode by default
        let isLightMode = false;
        if (savedTheme === 'light') {
            isLightMode = true;
        }

        // Apply theme classes immediately to prevent FOUC
        if (isLightMode) {
            document.documentElement.classList.add('light-mode');
            document.body.classList.add('light-mode');
            localStorage.setItem('theme', 'light');
        } else {
            // Ensure dark mode classes are present if not in light mode
            document.documentElement.classList.remove('light-mode');
            document.body.classList.remove('light-mode');
            // Tailwind's dark class is applied dynamically, so we don't remove it here.
            // The default CSS handles the dark mode appearance.
            localStorage.setItem('theme', 'dark'); // Ensure localStorage reflects dark mode
        }
    </script>
</head>
<body oncontextmenu="return false;">

    <!-- Google Analytics Placeholder -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA_TRACKING_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR_GA_TRACKING_ID');
    </script>

    <!-- Facebook Pixel Placeholder -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document, 'script',
        'https://connect.facebook.com/en_US/fbevents.js');
        fbq('init', 'YOUR_PIXEL_ID');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
        src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Facebook Pixel Placeholder -->

    <!-- Main Landing Page Content -->
    <div id="landing-page-content" class="min-h-screen flex flex-col">
        <!-- Header Section for Logo and Controls -->
        <div class="container mx-auto flex justify-between items-center w-full mt-8 mb-8">
            <!-- Logo Section (now top left) -->
            <div>
                <!-- Logo for Light Mode -->
                <img id="main-logo" src="Shapes-Logo neu Black.png" alt="Shapes Logo" class="w-[225px] h-[112.5px] object-contain" ondragstart="return false;">
            </div>

            <!-- Top Right Controls (Theme Toggle and Language) -->
            <div class="flex space-x-4 z-50">
                <!-- Theme Toggle -->
                <button id="theme-toggle" class="p-2 rounded-full glassy-box shadow-md transition duration-300">
                    <!-- SVG icon will be dynamically updated by JavaScript -->
                </button>
                <!-- Language Toggle Button (Direct Toggle) -->
                <button id="lang-toggle" class="p-2 rounded-full glassy-box shadow-md transition duration-300 flex items-center space-x-2">
                    <span id="current-lang">EN</span>
                </button>
            </div>
        </div>

        <!-- Hero Section -->
        <section class="container mx-auto relative">
            <!-- Video Section (now a standalone glassy-box) -->
            <div class="p-8 rounded-xl glassy-box relative">
                <!-- Video embed goes here -->
                <div class="relative w-full max-w-4xl mx-auto overflow-hidden rounded-lg bg-black" style="padding-top: 56.25%;"> <!-- 16:9 Aspect Ratio -->
                    <video id="mainVideo" controls autoplay playsinline class="absolute top-0 left-0 w-full h-full object-contain rounded-lg" controlsList="nodownload">
                        <source src="Zurab 1.mp4" type="video/mp4">
                        <!-- Removed 'Test Women 1.mp4' source -->
                        <!-- Removed track tag as it's not needed for a single video without explicit subtitles -->
                        Your browser does browser not support the video tag.
                    </video>
                </div>
            </div>
        </section>

        <!-- Call to Action Section -->
        <section class="container mx-auto mt-5 p-8 rounded-xl glassy-box text-center">
            <button id="schedule-cta" class="apple-button text-2xl md:text-3xl glassy-box text-white hover:scale-105" style="background-color: rgba(220, 38, 38, 0.6);">
                Book your free consultation.
            </button>
        </section>

        <!-- Benefits Section - Replaced with Image -->
        <section class="container mx-auto mt-5 p-8 rounded-xl glassy-box flex justify-center items-center">
            <img src="Abbinder-home_final.jpg" alt="Be faster. Be better. Be stronger. Be balanced. With Shapes." class="w-full h-auto object-contain rounded-xl" ondragstart="return false;">
        </section>

        <!-- Footer Section -->
        <footer class="container mx-auto mt-8 mb-8 text-center text-gray-400 text-sm">
            © 2024 Shape Industries @ Sport. All rights reserved
        </footer>

    </div>

    <!-- Calendly Modal -->
    <div id="calendly-modal" class="modal">
        <div class="modal-content glassy-box">
            <span class="close-button" id="close-modal">&times;</span>
            <h2 id="modal-title" class="text-3xl font-bold mb-6">Schedule Your Appointment</h2>
            <!-- Calendly Embed - Replace YOUR_CALENDly_LINK with your actual Calendly scheduling link -->
            <div class="calendly-iframe-container">
                <iframe src="https://calendly.com/get-shapes/30min" class="calendly-iframe"></iframe>
            </div>
            <!-- Removed the "Confirm Booking" button as Calendly handles its own flow -->
        </div>
    </div>

    <!-- Thank You Page Content (Initially Hidden) -->
    <div id="thank-you-page" class="hidden min-h-screen flex flex-col items-center justify-center text-center p-8 bg-white dark:bg-gray-800 transition duration-300">
        <h1 id="thankyou-headline" class="text-5xl md:text-6xl font-extrabold mb-6">
            Thank you! Your appointment is confirmed.
        </h1>
        <p id="thankyou-subheadline" class="text-xl md:text-2xl mb-10">
            Check your email for confirmation.
        </p>
        <button id="back-to-homepage" class="apple-button text-xl bg-transparent border border-black dark:border-gray-200">
            Back to Homepage
        </button>
    </div >

    <!-- Cookie Consent Banner -->
    <div id="cookie-banner" class="hidden">
        <p class="text-sm md:text-base">
            <span id="cookie-message-text"></span>
            <a href="#" id="learn-more-cookies" class="text-blue-400 hover:underline ml-1"></a>.
        </p>
        <div class="cookie-buttons">
            <button id="accept-cookies" class="accept-button">Accept All</button>
            <button id="decline-cookies" class="decline-button">Decline</button>
        </div>
    </div>

    <!-- Cookie Information Modal -->
    <div id="cookie-info-modal" class="modal">
        <div class="modal-content glassy-box">
            <span class="close-button" id="close-cookie-info-modal">&times;</span>
            <h2 id="cookie-info-title" class="text-3xl font-bold">Cookie Information</h2>
            <div class="text-content mt-4">
                <p id="cookie-info-intro">
                    This website uses cookies to enhance your browsing experience and to understand how you interact with our site. By using our website, you consent to our use of cookies in accordance with this policy.
                </p>

                <h3 id="cookie-info-what-are-cookies">What Are Cookies?</h3>
                <p id="cookie-info-what-are-cookies-text">
                    Cookies are small text files stored on your device (computer, tablet, mobile) when you visit certain web pages. They are widely used to make websites work more efficiently, as well as to provide information to the owners of the site.
                </p>

                <h3 id="cookie-info-how-we-use-cookies">How We Use Cookies</h3>
                <p id="cookie-info-how-we-use-cookies-text">We use cookies for the following purposes:</p>
                <ul>
                    <li><strong id="cookie-info-essential">Essential Cookies:</strong> <span id="cookie-info-essential-text">These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms.</span></li>
                    <li><strong id="cookie-info-analytics">Analytics Cookies:</strong> <span id="cookie-info-analytics-text">These cookies allow us to count visits and traffic sources, so we can measure and improve the performance of our site. They help us to know which pages are the most and least popular and see how visitors move around the site. All information these cookies collect is aggregated and therefore anonymous.</span></li>
                    <li><strong id="cookie-info-marketing">Marketing Cookies:</strong> <span id="cookie-info-marketing-text">These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant adverts on other sites. They do not store directly personal information, but are based on uniquely identifying your browser and internet device.</span></li>
                </ul>

                <h3 id="cookie-info-managing-cookies">Managing Your Cookie Preferences</h3>
                <p id="cookie-info-managing-cookies-text">
                    You have the right to decide whether to accept or reject cookies. You can set your browser to refuse all or some browser cookies, or to alert you when websites set or access cookies. If you disable or refuse cookies, please note that some parts of this website may become inaccessible or not function properly.
                </p>
                <p id="cookie-info-contact">
                    For more detailed information about how we use cookies and your choices, please contact us.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Language content
        const content = {
            en: {
                scheduleCta: "Book your free consultation.",
                modalTitle: "Schedule Your Appointment",
                thankyouHeadline: "Thank you! Your appointment is confirmed.",
                thankyouSubheadline: "Check your email for confirmation.",
                backToHomepage: "Back to Homepage",
                currentLang: "EN",
                cookieMessage: "We use cookies to ensure you get the best experience on our website. By continuing to use this site, you agree to our use of cookies.",
                cookieLearnMore: "Learn more",
                cookieAccept: "Accept All",
                cookieDecline: "Decline",
                cookieInfoTitle: "Cookie Information",
                cookieInfoIntro: "This website uses cookies to enhance your browsing experience and to understand how you interact with our site. By using our website, you consent to our use of cookies in accordance with this policy.",
                cookieInfoWhatAreCookies: "What Are Cookies?",
                cookieInfoWhatAreCookiesText: "Cookies are small text files stored on your device (computer, tablet, mobile) when you visit certain web pages. They are widely used to make websites work more efficiently, as well as to provide information to the owners of the site.",
                cookieInfoHowWeUseCookies: "How We Use Cookies",
                cookieInfoHowWeUseCookiesText: "We use cookies for the following purposes:",
                cookieInfoEssential: "Essential Cookies:",
                cookieInfoEssentialText: "These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms.",
                cookieInfoAnalytics: "Analytics Cookies:",
                cookieInfoAnalyticsText: "These cookies allow us to count visits and traffic sources, so we can measure and improve the performance of our site. They help us to know which pages are the most and least popular and see how visitors move around the site. All information these cookies collect is aggregated and therefore anonymous.",
                cookieInfoMarketing: "Marketing Cookies:",
                cookieInfoMarketingText: "These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant adverts on other sites. They do not store directly personal information, but are based on uniquely identifying your browser and internet device.",
                cookieInfoManagingCookies: "Managing Your Cookie Preferences",
                cookieInfoManagingCookiesText: "You have the right to decide whether to accept or reject cookies. You can set your browser to refuse all or some browser cookies, or to alert you when websites set or access cookies. If you disable or refuse cookies, please note that some parts of this website may become inaccessible or not function properly.",
                cookieInfoContact: "For more detailed information about how we use cookies and your choices, please contact us."
            },
            de: {
                scheduleCta: "Buche deine kostenlose Beratung.",
                modalTitle: "Termin vereinbaren",
                thankyouHeadline: "Vielen Dank! Ihr Termin ist bestätigt.",
                thankyouSubheadline: "Bitte überprüfen Sie Ihre E-Mails zur Bestätigung.",
                backToHomepage: "Zur Startseite",
                currentLang: "DE",
                cookieMessage: "Wir verwenden Cookies, um sicherzustellen, dass Sie die beste Erfahrung auf unserer Website erhalten. Durch die weitere Nutzung dieser Website stimmen Sie der Verwendung von Cookies zu.",
                cookieLearnMore: "Mehr erfahren",
                cookieAccept: "Alle akzeptieren",
                cookieDecline: "Ablehnen",
                cookieInfoTitle: "Cookie-Informationen",
                cookieInfoIntro: "Diese Website verwendet Cookies, um Ihr Browser-Erlebnis zu verbessern und zu verstehen, wie Sie mit unserer Website interagieren. Durch die Nutzung unserer Website stimmen Sie unserer Verwendung von Cookies gemäß dieser Richtlinie zu.",
                cookieInfoWhatAreCookies: "Was sind Cookies?",
                cookieInfoWhatAreCookiesText: "Cookies sind kleine Textdateien, die auf Ihrem Gerät (Computer, Tablet, Mobiltelefon) gespeichert werden, wenn Sie bestimmte Webseiten besuchen. Sie werden häufig verwendet, um Websites effizienter zu gestalten und den Eigentümern der Website Informationen zur Verfügung zu stellen.",
                cookieInfoHowWeUseCookies: "Wie wir Cookies verwenden",
                cookieInfoHowWeUseCookiesText: "Wir verwenden Cookies für die folgenden Zwecke:",
                cookieInfoEssential: "Essentielle Cookies:",
                cookieInfoEssentialText: "Diese Cookies sind für die Funktion der Website notwendig und können in unseren Systemen nicht deaktiviert werden. Sie werden in der Regel nur als Reaktion auf von Ihnen getätigte Aktionen gesetzt, die einer Dienstanfrage gleichkommen, wie das Festlegen Ihrer Datenschutzeinstellungen, das Anmelden oder das Ausfüllen von Formularen.",
                cookieInfoAnalytics: "Analyse-Cookies:",
                cookieInfoAnalyticsText: "Diese Cookies ermöglichen es uns, Besuche und Traffic-Quellen zu zählen, um die Leistung unserer Website zu messen und zu verbessern. Sie helfen uns zu wissen, welche Seiten am beliebtesten und am wenigsten beliebt sind und wie sich Besucher auf der Website bewegen. Alle Informationen, die diese Cookies sammeln, sind aggregiert und daher anonym.",
                cookieInfoMarketing: "Marketing-Cookies:",
                cookieInfoMarketingText: "Diese Cookies können über unsere Website von unseren Werbepartnern gesetzt werden. Sie können von diesen Unternehmen verwendet werden, um ein Profil Ihrer Interessen zu erstellen und Ihnen relevante Werbung auf anderen Websites anzuzeigen. Sie speichern keine direkten persönlichen Informationen, sondern basieren auf der eindeutigen Identifizierung Ihres Browsers und Internetgeräts.",
                cookieInfoManagingCookies: "Verwaltung Ihrer Cookie-Einstellungen",
                cookieInfoManagingCookiesText: "Sie haben das Recht zu entscheiden, ob Sie Cookies akzeptieren oder ablehnen möchten. Sie können Ihren Browser so einstellen, dass er alle oder einige Browser-Cookies ablehnt oder Sie benachrichtigt, wenn Websites Cookies setzen oder darauf zugreifen. Wenn Sie Cookies deaktivieren oder ablehnen, beachten Sie bitte, dass einige Teile dieser Website möglicherweise nicht zugänglich sind oder nicht richtig funktionieren.",
                cookieInfoContact: "Für detailliertere Informationen zur Verwendung von Cookies und Ihren Wahlmöglichkeiten kontaktieren Sie uns bitte."
            }
        };

        let currentLanguage = 'en'; // Default language

        // Function to update content based on language
        function updateContent() {
            console.log("Updating content for language:", currentLanguage);
            const langData = content[currentLanguage];
            const modalTitle = document.getElementById('modal-title');
            const thankyouHeadline = document.getElementById('thankyou-headline');
            const thankyouSubheadline = document.getElementById('thankyou-subheadline');
            const backToHomepage = document.getElementById('back-to-homepage');
            const currentLangSpan = document.getElementById('current-lang');
            const scheduleCtaButton = document.getElementById('schedule-cta');

            // Cookie banner elements
            const cookieMessageTextElement = document.getElementById('cookie-message-text'); // New ID for text span
            const cookieLearnMoreElement = document.getElementById('learn-more-cookies'); // Get by ID now
            const cookieAcceptButton = document.getElementById('accept-cookies');
            const cookieDeclineButton = document.getElementById('decline-cookies');

            // Cookie Info Modal elements
            const cookieInfoTitle = document.getElementById('cookie-info-title');
            const cookieInfoIntro = document.getElementById('cookie-info-intro');
            const cookieInfoWhatAreCookies = document.getElementById('cookie-info-what-are-cookies');
            const cookieInfoWhatAreCookiesText = document.getElementById('cookie-info-what-are-cookies-text');
            const cookieInfoHowWeUseCookies = document.getElementById('cookie-info-how-we-use-cookies');
            const cookieInfoHowWeUseCookiesText = document.getElementById('cookie-info-how-we-use-cookies-text');
            const cookieInfoEssential = document.getElementById('cookie-info-essential');
            const cookieInfoEssentialText = document.getElementById('cookie-info-essential-text');
            const cookieInfoAnalytics = document.getElementById('cookie-info-analytics');
            const cookieInfoAnalyticsText = document.getElementById('cookie-info-analytics-text');
            const cookieInfoMarketing = document.getElementById('cookie-info-marketing');
            const cookieInfoMarketingText = document.getElementById('cookie-info-marketing-text');
            const cookieInfoManagingCookies = document.getElementById('cookie-info-managing-cookies');
            const cookieInfoManagingCookiesText = document.getElementById('cookie-info-managing-cookies-text');
            const cookieInfoContact = document.getElementById('cookie-info-contact');


            if (modalTitle) modalTitle.textContent = langData.modalTitle;
            if (thankyouHeadline) thankyouHeadline.textContent = langData.thankyouHeadline;
            if (thankyouSubheadline) thankyouSubheadline.textContent = langData.thankyouSubheadline;
            if (backToHomepage) backToHomepage.textContent = langData.backToHomepage;
            if (currentLangSpan) currentLangSpan.textContent = langData.currentLang;
            if (scheduleCtaButton) scheduleCtaButton.textContent = langData.scheduleCta;

            // Update cookie banner content
            if (cookieMessageTextElement) cookieMessageTextElement.textContent = langData.cookieMessage;
            if (cookieLearnMoreElement) cookieLearnMoreElement.textContent = langData.cookieLearnMore;
            if (cookieAcceptButton) cookieAcceptButton.textContent = langData.cookieAccept;
            if (cookieDeclineButton) cookieDeclineButton.textContent = langData.cookieDecline;

            // Update Cookie Info Modal content
            if (cookieInfoTitle) cookieInfoTitle.textContent = langData.cookieInfoTitle;
            if (cookieInfoIntro) cookieInfoIntro.textContent = langData.cookieInfoIntro;
            if (cookieInfoWhatAreCookies) cookieInfoWhatAreCookies.textContent = langData.cookieInfoWhatAreCookies;
            if (cookieInfoWhatAreCookiesText) cookieInfoWhatAreCookiesText.textContent = langData.cookieInfoWhatAreCookiesText;
            if (cookieInfoHowWeUseCookies) cookieInfoHowWeUseCookies.textContent = langData.cookieInfoHowWeUseCookies;
            if (cookieInfoHowWeUseCookiesText) cookieInfoHowWeUseCookiesText.textContent = langData.cookieInfoHowWeUseCookiesText;
            if (cookieInfoEssential) cookieInfoEssential.textContent = langData.cookieInfoEssential;
            if (cookieInfoEssentialText) cookieInfoEssentialText.textContent = langData.cookieInfoEssentialText;
            if (cookieInfoAnalytics) cookieInfoAnalytics.textContent = langData.cookieInfoAnalytics;
            if (cookieInfoAnalyticsText) cookieInfoAnalyticsText.textContent = langData.cookieInfoAnalyticsText;
            if (cookieInfoMarketing) cookieInfoMarketing.textContent = langData.cookieInfoMarketing;
            if (cookieInfoMarketingText) cookieInfoMarketingText.textContent = langData.cookieInfoMarketingText;
            if (cookieInfoManagingCookies) cookieInfoManagingCookies.textContent = langData.cookieInfoManagingCookies;
            if (cookieInfoManagingCookiesText) cookieInfoManagingCookiesText.textContent = langData.cookieInfoManagingCookiesText;
            if (cookieInfoContact) cookieInfoContact.textContent = langData.cookieInfoContact;
        }

        // Function to update the theme toggle icon
        function updateThemeToggleIcon() {
            const themeToggleBtn = document.getElementById('theme-toggle');
            const isLightModeActive = document.documentElement.classList.contains('light-mode');
            console.log("Updating theme icon. Is light mode active:", isLightModeActive);
            if (themeToggleBtn) {
                if (!isLightModeActive) { // If light-mode is NOT active, it's dark mode
                    themeToggleBtn.innerHTML = `
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.128 6.062a.75.75 0 10-1.06-1.06l-1.59 1.59a.75.75 0 001.06 1.06l1.59-1.59zM2.25 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zM6.062 16.872a.75.75 0 101.06 1.06l1.59-1.59a.75.75 0 00-1.06-1.06l-1.59 1.59zM12 18.75a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0v-2.25a.75.75 0 01.75-.75zM16.872 17.938a.75.75 0 101.06 1.06l1.59-1.59a.75.75 0 00-1.06-1.06l-1.59 1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25a.75.75 0 01.75.75zM17.938 7.128a.75.75 0 10-1.06-1.06l-1.59 1.59a.75.75 0 001.06 1.06l1.59-1.59zM12 15a3 3 0 100-6 3 3 0 000 6z"/>
                        </svg>
                    `; // Sun icon for dark mode
                } else { // It's light mode
                    themeToggleBtn.innerHTML = `
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    `; // Half moon icon for light mode
                }
            }
        }

        // This ensures the DOM is fully loaded before trying to access elements
        document.addEventListener('DOMContentLoaded', () => {
            // DOM elements
            const calendlyModal = document.getElementById('calendly-modal');
            const closeModalBtn = document.getElementById('close-modal');
            const landingPageContent = document.getElementById('landing-page-content');
            const thankYouPage = document.getElementById('thank-you-page');
            const backToHomepageBtn = document.getElementById('back-to-homepage');
            const langToggleBtn = document.getElementById('lang-toggle');
            const currentLangSpan = document.getElementById('current-lang');
            const themeToggleBtn = document.getElementById('theme-toggle');
            const mainLogo = document.getElementById('main-logo'); // Changed to single logo ID
            const scheduleCtaButton = document.getElementById('schedule-cta'); // Declared here

            // Cookie banner elements
            const cookieBanner = document.getElementById('cookie-banner');
            const acceptCookiesBtn = document.getElementById('accept-cookies');
            const declineCookiesBtn = document.getElementById('decline-cookies');
            const learnMoreCookiesLink = document.getElementById('learn-more-cookies'); // Get the link

            // Cookie Info Modal elements
            const cookieInfoModal = document.getElementById('cookie-info-modal');
            const closeCookieInfoModalBtn = document.getElementById('close-cookie-info-modal');


            // Initial theme application (already handled by inline script in head for FOUC prevention)
            // This block is for updating logo and icon based on the *initial* state
            const savedTheme = localStorage.getItem('theme');
            let isLightModeInitial = false;
            if (savedTheme === 'light') {
                isLightModeInitial = true;
            }

            if (isLightModeInitial) {
                if (mainLogo) mainLogo.src = 'Shapes-Logo neu Black.png';
            } else {
                if (mainLogo) mainLogo.src = 'Shapes-Logo neu White.png';
            }
            updateThemeToggleIcon(); // Set initial icon on load

            // Set initial language based on browser preference or default to 'en'
            const browserLang = navigator.language.split('-')[0];
            const availableLangs = Object.keys(content);
            const initialLang = availableLangs.includes(browserLang) ? browserLang : 'en';
            currentLanguage = initialLang;
            updateContent(); // Initial content update

            // Cookie Consent Logic
            const cookieConsent = localStorage.getItem('cookieConsent');
            if (cookieConsent === null) {
                // If no consent, show the banner
                if (cookieBanner) cookieBanner.classList.remove('hidden');
            } else {
                // If consent exists, hide the banner
                if (cookieBanner) cookieBanner.classList.add('hidden');
            }

            if (acceptCookiesBtn) {
                acceptCookiesBtn.addEventListener('click', () => {
                    localStorage.setItem('cookieConsent', 'accepted');
                    if (cookieBanner) cookieBanner.classList.add('hidden');
                });
            }

            if (declineCookiesBtn) {
                declineCookiesBtn.addEventListener('click', () => {
                    localStorage.setItem('cookieConsent', 'declined');
                    if (cookieBanner) cookieBanner.classList.add('hidden');
                    // Optionally, you could disable certain features here if cookies are declined
                    console.log("Cookies declined. Some features might be limited.");
                });
            }

            // Open Cookie Info Modal
            if (learnMoreCookiesLink) {
                learnMoreCookiesLink.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent default link behavior
                    if (cookieInfoModal) cookieInfoModal.style.display = 'flex';
                });
            }

            // Close Cookie Info Modal
            if (closeCookieInfoModalBtn) {
                closeCookieInfoModalBtn.addEventListener('click', () => {
                    if (cookieInfoModal) cookieInfoModal.style.display = 'none';
                });
            }

            // Close Cookie Info Modal if clicking outside content
            if (cookieInfoModal) {
                cookieInfoModal.addEventListener('click', (e) => {
                    if (e.target === cookieInfoModal) {
                        cookieInfoModal.style.display = 'none';
                    }
                });
            }


            // Show Calendly Modal from main CTA
            if (scheduleCtaButton) {
                scheduleCtaButton.addEventListener('click', () => {
                    console.log("Schedule CTA button clicked!");
                    if (calendlyModal) calendlyModal.style.display = 'flex';
                });
            }

            // Close Calendly Modal
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', () => {
                    console.log("Close modal button clicked!");
                    if (calendlyModal) calendlyModal.style.display = 'none';
                });
            }

            // Close modal if clicking outside content
            if (calendlyModal) {
                calendlyModal.addEventListener('click', (e) => {
                    if (e.target === calendlyModal) {
                        console.log("Clicked outside modal, closing.");
                        calendlyModal.style.display = 'none';
                    }
                });
            }

            // Back to Homepage from Thank You Page
            if (backToHomepageBtn && thankYouPage && landingPageContent) {
                backToHomepageBtn.addEventListener('click', () => {
                    console.log("Back to homepage button clicked!");
                    thankYouPage.classList.add('hidden');
                    landingPageContent.classList.remove('hidden');
                });
            }

            // Video looping logic
            const mainVideo = document.getElementById('mainVideo');
            const videoSources = [
                'Zurab 1.mp4' // Only Zurab video
            ];
            let currentVideoIndex = 0;

            // Set initial video source on script load (or when video element is ready)
            if (mainVideo) {
                mainVideo.src = videoSources[currentVideoIndex];

                mainVideo.addEventListener('ended', () => {
                    console.log("Video ended, switching to next video.");
                    currentVideoIndex++;
                    if (currentVideoIndex >= videoSources.length) {
                        currentVideoIndex = 0; // Loop back to the first video
                    }
                    mainVideo.src = videoSources[currentVideoIndex];
                    mainVideo.load(); // Load the new video source
                    mainVideo.play().catch(error => {
                        console.log("Autoplay prevented after video ended:", error);
                    });
                });

                // Attempt to play on load (will be caught if autoplay is blocked)
                mainVideo.play().catch(error => {
                    console.log("Initial autoplay prevented:", error);
                });
            }

            // Language Toggle Event Listener (Direct Toggle)
            if (langToggleBtn) { // Check if the button exists
                langToggleBtn.addEventListener('click', () => {
                    console.log("Language toggle clicked!");
                    currentLanguage = (currentLanguage === 'en') ? 'de' : 'en';
                    updateContent(); // Update content based on new language
                });
            }

            // Theme Toggle Event Listener
            if (themeToggleBtn && mainLogo) {
                themeToggleBtn.addEventListener('click', () => {
                    console.log("Theme toggle clicked!");
                    // Toggle the 'light-mode' class on both html and body
                    document.documentElement.classList.toggle('light-mode');
                    document.body.classList.toggle('light-mode');
                    
                    // Update localStorage and logo based on the new state
                    if (document.documentElement.classList.contains('light-mode')) {
                        localStorage.setItem('theme', 'light');
                        mainLogo.src = 'Shapes-Logo neu Black.png';
                        if (cookieBanner) cookieBanner.classList.add('light-mode'); // Apply light mode to banner
                    } else {
                        localStorage.setItem('theme', 'dark');
                        mainLogo.src = 'Shapes-Logo neu White.png';
                        if (cookieBanner) cookieBanner.classList.remove('light-mode'); // Remove light mode from banner
                    }
                    updateThemeToggleIcon(); // Update icon after theme change
                });
            }
        });
    </script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shapes Beyond Footwear</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Urbanist (kept as fallback) -->
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Adobe Fonts (Typekit) Link -->
    <link rel="stylesheet" href="https://use.typekit.net/af/c4767b/00000000000000003b9acb20/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3">

    <style>
        /* Default to dark mode styles for html and body */
        html, body {
            background-color: #000000 !important; /* Pure black background by default */
            color: #e2e8f0; /* Light text by default */
            /* IMPORTANT: Replace 'Your-Typekit-Font-Name' with the actual font-family name from your Adobe Fonts project */
            font-family: 'Your-Typekit-Font-Name', 'Urbanist', sans-serif; /* Use Typekit font, with Urbanist as fallback */
            position: relative; /* Needed for pseudo-elements */
            min-height: 100vh; /* Ensure body takes full height for background */
            transition: background-color 0.3s ease, color 0.3s ease; /* Smooth transition for theme change */
            z-index: 0; /* Ensures content sits above it */
        }

        /* Styles for light mode when 'light-mode' class is active */
        html.light-mode, body.light-mode {
            background-color: #ffffff !important; /* Pure white background in light mode */
            color: #000000 !important; /* Pure black text in light mode */
        }

        /* Removed: Force all text to black in light mode, if not already covered by html.light-mode */
        /* body:not(.dark) .text-black-force {
            color: #000000 !important;
        } */

        /* Remove background image layer and overlay */
        body::after,
        body::before {
            content: none; /* Remove pseudo-elements entirely */
        }

        /* Glassy effect for content boxes (Liquid Glass look) */
        .glassy-box {
            background: transparent; /* Fully transparent for both modes */
            backdrop-filter: blur(10px) saturate(180%); /* Frosted glass with saturation */
            -webkit-backdrop-filter: blur(10px) saturate(180%); /* For Safari */
            border-radius: 1rem; /* Consistent with rounded-xl */
            transition: background 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, backdrop-filter 0.3s ease;
        }

        /* Borders and shadows specific to dark mode for glassy-box */
        html:not(.light-mode) .glassy-box, body:not(.light-mode) .glassy-box {
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3), 0 0 20px rgba(100, 150, 255, 0.2); /* Adjusted for dark mode */
        }

        /* Borders and shadows specific to light mode for glassy-box */
        html.light-mode .glassy-box, body.light-mode .glassy-box {
            border: 1px solid rgba(0, 0, 0, 0.05); /* Very subtle border for light mode */
            box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05); /* Very subtle shadow for light mode */
        }

        /* Ensure video fills its container and maintains aspect ratio */
        .glassy-box video {
            object-fit: contain; /* Changed from 'cover' to 'contain' */
            width: 100%;
            height: 100%;
            display: block;
            background-color: #000; /* Optional: adds black bars if needed */
        }

        /* Apple-style button base */
        .apple-button {
            /* Adjusted padding and min-width */
            padding: 1.5rem 3.5rem; /* Reduced horizontal padding slightly */
            min-width: 320px; /* Reduced min-width slightly */
            font-weight: 600; /* font-semibold */
            border-radius: 1rem; /* rounded-xl */
            transition: all 0.3s ease; /* transition duration-300 */
            display: inline-block; /* Ensure padding applies correctly */
        }

        /* Explicitly remove focus outline and border for all buttons */
        button:focus,
        button:focus-visible {
            outline: none !important;
            box-shadow: none !important;
            border: none !important; /* Added to aggressively remove any default borders */
        }

        /* Specific override for the schedule-cta button to ensure no blue outline or border */
        #schedule-cta:focus,
        #schedule-cta:focus-visible {
            outline: none !important;
            box-shadow: none !important;
            border: none !important; /* Added to aggressively remove any default borders */
        }

        /* Modal styling */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            margin: auto;
            padding: 1.5rem; /* Reduced padding */
            position: relative;
            max-width: 90%; /* Keep max-width for responsiveness */
            width: 700px; /* Increased default width for better Calendly display */
            height: 95vh; /* Make it take up most of the viewport height */
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            color: #000000; /* Default text color for modal content */
            overflow: hidden; /* Hide modal scrollbar */
            border-radius: 1rem; /* Keep border-radius from glassy-box */
        }
        /* Modal content text color based on theme */
        html.light-mode .modal-content {
            color: #000000; /* Black text for modal content in light mode */
        }
        html:not(.light-mode) .modal-content {
            color: #e2e8f0; /* Light text for modal content in dark mode */
        }

        /* Specific styles for cookie info and preferences modals in light mode */
        html.light-mode #cookie-info-modal .modal-content,
        html.light-mode #cookie-preferences-modal .modal-content,
        html.light-mode #imprint-modal .modal-content { /* Added imprint modal */
            color: #ffffff !important; /* White text in light mode for these modals */
            background-color: rgba(0, 0, 0, 0.7) !important; /* Dark background for contrast */
            border: 1px solid rgba(255, 255, 255, 0.1) !important; /* Light border */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3) !important; /* Dark shadow */
        }


        .close-button {
            color: #000000; /* Pure Black for light mode */
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
        }
        /* Close button color based on theme */
        html.light-mode .close-button {
            color: #000000; /* Pure black on hover in light mode */
        }
        html:not(.light-mode) .close-button {
            color: #cbd5e0; /* Adjusted for dark background */
        }
        html.light-mode .close-button:hover,
        html.light-mode .close-button:focus {
            color: #000000; /* Pure black on hover */
        }
        html:not(.light-mode) .close-button:hover,
        html:not(.light-mode) .close-button:focus {
            color: #fefefe; /* Adjusted for dark background */
        }

        /* Calendly iframe container styling */
        .calendly-iframe-container {
            position: relative;
            width: 100%;
            flex-grow: 1; /* Allow it to take up available vertical space */
            height: 0; /* Important for flex-grow to work correctly in a column layout */
            overflow: hidden; /* Hide scrollbars of the container */
            border-radius: 0.5rem;
            margin-top: 1rem; /* Add some space below title */
            display: flex; /* Make it a flex container for the iframe */
            justify-content: center; /* Center iframe horizontally */
            align-items: center; /* Center iframe vertically */
        }

        .calendly-iframe {
            width: 100%;
            height: 100%;
            border: 0;
            /* Attempt to influence color scheme - may not work due to cross-origin policy */
            color-scheme: light;
        }
        /* Ensure modal title doesn't shrink */
        .modal-content h2 {
            flex-shrink: 0;
        }

        /* Cookie Banner Styling */
        #cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 1rem 1.5rem; /* Smaller vertical padding */
            background-color: rgba(0, 0, 0, 0.7); /* Darker, semi-transparent background */
            backdrop-filter: blur(8px); /* Subtle blur */
            -webkit-backdrop-filter: blur(8px);
            color: #e2e8f0; /* Light text */
            text-align: center;
            z-index: 1000; /* Ensure it's above other content */
            display: flex; /* Use flexbox for layout */
            flex-direction: column; /* Stack items vertically on small screens */
            align-items: center; /* Center items horizontally */
            justify-content: center;
            gap: 0.75rem; /* Smaller gap between elements */
            border-top: 1px solid rgba(255, 255, 255, 0.1); /* Subtle top border */
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.3); /* Shadow for depth */
        }

        #cookie-banner.light-mode {
            background-color: rgba(255, 255, 255, 0.8); /* Lighter, semi-transparent background */
            color: #000000; /* Dark text */
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.1); /* Adjusted for light mode */
        }

        #cookie-banner .cookie-buttons-main {
            display: flex;
            gap: 0.75rem; /* Smaller gap between buttons */
            flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
            justify-content: center;
        }

        #cookie-banner button {
            padding: 0.6rem 1.2rem; /* Smaller button padding */
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease; /* Added box-shadow to transition */
            white-space: nowrap; /* Prevent button text from wrapping */
        }

        /* Default (Dark Mode) Button Styles */
        #cookie-banner button.accept-button,
        #cookie-banner button.decline-all-button,
        #cookie-banner button.manage-preferences-button,
        #cookie-banner button.save-preferences-button {
            background-color: transparent; /* Always transparent background */
            border: 1px solid rgba(255, 255, 255, 0.4); /* Slightly more visible border */
            color: #e2e8f0; /* Light text for dark mode */
            box-shadow: none; /* No initial shadow */
        }

        #cookie-banner button.accept-button:hover {
            background-color: rgba(34, 197, 94, 0.2); /* Subtle green tint on hover */
            color: #22c55e; /* Green text on hover */
            border-color: #22c55e; /* Green border on hover */
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 4px 10px rgba(34, 197, 94, 0.3);
        }

        #cookie-banner button.decline-all-button:hover {
            background-color: rgba(239, 68, 68, 0.2); /* Subtle red tint on hover */
            color: #ef4444; /* Red text on hover */
            border-color: #ef4444; /* Red border on hover */
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3);
        }

        #cookie-banner button.manage-preferences-button:hover,
        #cookie-banner button.save-preferences-button:hover {
            background-color: rgba(100, 150, 255, 0.2); /* Subtle blue tint on hover */
            color: #6496ff; /* Blue text on hover */
            border-color: #6496ff; /* Blue border on hover */
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 4px 10px rgba(100, 150, 255, 0.3);
        }

        /* Light Mode Specific Button Styles */
        #cookie-banner.light-mode button.accept-button,
        #cookie-banner.light-mode button.decline-all-button,
        #cookie-banner.light-mode button.manage-preferences-button,
        #cookie-banner.light-mode button.save-preferences-button {
            background-color: transparent; /* Always transparent background */
            color: #000000; /* Dark text for light mode */
            border: 1px solid rgba(0, 0, 0, 0.4); /* Slightly more visible border */
            box-shadow: none; /* No initial shadow */
        }

        #cookie-banner.light-mode button.accept-button:hover {
            background-color: rgba(34, 197, 94, 0.1); /* Subtle green tint on hover */
            color: #22c55e; /* Green text on hover */
            border-color: #22c55e; /* Green border on hover */
            box-shadow: 0 4px 10px rgba(34, 197, 94, 0.1); /* Lighter green shadow */
        }

        #cookie-banner.light-mode button.decline-all-button:hover {
            background-color: rgba(239, 68, 68, 0.1); /* Subtle red tint on hover */
            color: #ef4444; /* Red text on hover */
            border-color: #ef4444; /* Red border on hover */
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.1); /* Lighter red shadow */
        }

        #cookie-banner.light-mode button.manage-preferences-button:hover,
        #cookie-banner.light-mode button.save-preferences-button:hover {
            background-color: rgba(100, 150, 255, 0.1); /* Subtle blue tint on hover */
            color: #6496ff; /* Blue text on hover */
            border-color: #6496ff; /* Blue border on hover */
            box-shadow: 0 4px 10px rgba(100, 150, 255, 0.1); /* Lighter blue shadow */
        }

        /* Removed #cookie-preferences-container styles as it's now a modal */

        #cookie-preferences-container {
             /* This div is now part of the modal, so these styles are moved to the modal-content */
        }

        #cookie-preferences-container label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        #cookie-preferences-container input[type="checkbox"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #a0aec0; /* Gray border */
            border-radius: 0.25rem;
            cursor: pointer;
            position: relative;
            display: inline-block;
            flex-shrink: 0; /* Prevent checkbox from shrinking */
        }

        #cookie-preferences-container input[type="checkbox"]:checked {
            background-color: #22c55e; /* Green when checked */
            border-color: #22c55e;
        }

        #cookie-preferences-container input[type="checkbox"]:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            background-color: #4a5568; /* Darker gray when disabled */
            border-color: #4a5568;
        }

        #cookie-preferences-container input[type="checkbox"]:checked::after {
            content: '✓';
            color: white;
            font-size: 1rem;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Responsive adjustments for cookie banner */
        @media (min-width: 768px) {
            #cookie-banner {
                flex-direction: row; /* Horizontal layout on larger screens */
                justify-content: space-between; /* Space out content and buttons */
            }
            #cookie-banner .cookie-buttons-main {
                flex-wrap: nowrap; /* Prevent buttons from wrapping */
            }
        }

        /* New styles for cookie info modal */
        #cookie-info-modal .modal-content {
            max-width: 800px; /* Wider for more text */
            height: 90vh; /* Allow more vertical space */
            overflow-y: auto; /* Enable scrolling for content */
            text-align: left; /* Align text left */
        }

        #cookie-info-modal .modal-content h2 {
            text-align: center; /* Center title */
            margin-bottom: 1.5rem;
        }

        #cookie-info-modal .modal-content h3 {
            font-size: 1.5rem; /* Larger subheadings */
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        #cookie-info-modal .modal-content p,
        #cookie-info-modal .modal-content ul {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        #cookie-info-modal .modal-content ul {
            list-style-type: disc;
            margin-left: 1.5rem;
        }

        /* New styles for cookie preferences modal */
        #cookie-preferences-modal .modal-content {
            max-width: 600px; /* Adjust width for preferences */
            height: auto; /* Height based on content */
            max-height: 90vh; /* Max height for responsiveness */
            overflow-y: auto; /* Enable scrolling for content */
            text-align: left;
            padding: 2rem; /* More padding for better look */
        }

        #cookie-preferences-modal .modal-content h3 {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        #cookie-preferences-modal .modal-content label {
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        #cookie-preferences-modal .modal-content label span.text-xs {
            margin-left: 0.5rem;
            font-size: 0.875rem; /* Tailwind text-sm */
            line-height: 1.25rem; /* Tailwind leading-5 */
        }

        #cookie-preferences-modal .modal-content button {
            margin-top: 1.5rem;
            display: block; /* Make button full width */
            width: 100%;
        }

        /* Ensure the .hidden class always applies display: none */
        .hidden {
            display: none !important;
        }
    </style>
    <!-- Script to ensure dark mode is always loaded first unless explicitly set to light -->
    <script>
        // Check localStorage for theme preference immediately
        const savedTheme = localStorage.getItem('theme');

        // Assume dark mode by default
        let isLightMode = false;
        if (savedTheme === 'light') {
            isLightMode = true;
        }

        // Apply theme classes immediately to prevent FOUC
        if (isLightMode) {
            document.documentElement.classList.add('light-mode');
            document.body.classList.add('light-mode');
            localStorage.setItem('theme', 'light');
        } else {
            document.documentElement.classList.remove('light-mode');
            document.body.classList.remove('light-mode');
            localStorage.setItem('theme', 'dark'); // Ensure localStorage reflects dark mode
        }
    </script>
</head>
<body oncontextmenu="return false;">

    <!-- Google Analytics Placeholder -->
    <!-- These scripts will be conditionally loaded by JavaScript -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA_TRACKING_ID"></script> -->
    <!-- <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR_GA_TRACKING_ID');
    </script> -->

    <!-- Main Landing Page Content -->
    <div id="landing-page-content" class="min-h-screen flex flex-col">
        <!-- Header Section for Logo and Controls -->
        <div class="container mx-auto flex justify-between items-center w-full mt-8 mb-8">
            <!-- Logo Section (now top left) -->
            <div>
                <!-- Logo for Light Mode -->
                <img id="main-logo" src="Shapes-Logo neu Black.png" alt="Shapes Logo" class="w-[225px] h-[112.5px] object-contain" ondragstart="return false;">
            </div>

            <!-- Top Right Controls (Theme Toggle and Language) -->
            <div class="flex space-x-4 z-50">
                <!-- Theme Toggle -->
                <button id="theme-toggle" class="p-2 rounded-full glassy-box shadow-md transition duration-300">
                    <!-- SVG icon will be dynamically updated by JavaScript -->
                </button>
                <!-- Language Toggle Button (Direct Toggle) -->
                <button id="lang-toggle" class="p-2 rounded-full glassy-box shadow-md transition duration-300 flex items-center space-x-2">
                    <span id="current-lang">EN</span>
                </button>
            </div>
        </div>

        <!-- Hero Section -->
        <section class="container mx-auto relative">
            <!-- Video Section (now a standalone glassy-box) -->
            <div class="p-8 rounded-xl glassy-box relative">
                <!-- Video embed goes here -->
                <div class="relative w-full max-w-4xl mx-auto overflow-hidden rounded-lg bg-black" style="padding-top: 56.25%;"> <!-- 16:9 Aspect Ratio -->
                    <video id="mainVideo" controls autoplay playsinline class="absolute top-0 left-0 w-full h-full object-contain rounded-lg" controlsList="nodownload">
                        <source src="Zurab 1.mp4" type="video/mp4">
                        Your browser does browser not support the video tag.
                    </video>
                </div>
            </div>
        </section>

        <!-- Call to Action Section -->
        <section class="container mx-auto mt-5 p-8 rounded-xl glassy-box text-center">
            <button id="schedule-cta" class="apple-button text-2xl md:text-3xl glassy-box text-white hover:scale-105" style="background-color: rgba(220, 38, 38, 0.6);">
                Book your free consultation.
            </button>
        </section>

        <!-- Benefits Section - Replaced with Image -->
        <section class="container mx-auto mt-5 p-8 rounded-xl glassy-box flex justify-center items-center">
            <img src="Abbinder-home_final.jpg" alt="Be faster. Be better. Be stronger. Be balanced. With Shapes." class="w-full h-auto object-contain rounded-xl" ondragstart="return false;">
        </section>

        <!-- Footer Section -->
        <footer class="container mx-auto mt-8 mb-8 text-center text-gray-400 text-sm">
            © 2024 Shape Industries @ Sport. All rights reserved
            <div class="mt-2 flex justify-center space-x-4">
                <a href="#" id="imprint-link" class="hover:underline"></a>
                <a href="#" id="footer-cookie-preferences-link" class="hover:underline"></a>
                <a href="#" id="privacy-policy-link" class="hover:underline"></a>
            </div>
        </footer>

    </div>

    <!-- Calendly Modal -->
    <div id="calendly-modal" class="modal">
        <div class="modal-content glassy-box">
            <span class="close-button" id="close-modal">&times;</span>
            <h2 id="modal-title" class="text-3xl font-bold mb-6">Schedule Your Appointment</h2>
            <!-- Calendly Embed - Replace YOUR_CALENDly_LINK with your actual Calendly scheduling link -->
            <div class="calendly-iframe-container">
                <iframe src="https://calendly.com/get-shapes/30min" class="calendly-iframe"></iframe>
            </div>
            <!-- Removed the "Confirm Booking" button as Calendly handles its own flow -->
        </div>
    </div>

    <!-- Thank You Page Content (Initially Hidden) -->
    <div id="thank-you-page" class="hidden min-h-screen flex flex-col items-center justify-center text-center p-8 bg-white dark:bg-gray-800 transition duration-300">
        <h1 id="thankyou-headline" class="text-5xl md:text-6xl font-extrabold mb-6">
            Thank you! Your appointment is confirmed.
        </h1>
        <p id="thankyou-subheadline" class="text-xl md:text-2xl mb-10">
            Check your email for confirmation.
        </p>
        <button id="back-to-homepage" class="apple-button text-xl bg-transparent border border-black dark:border-gray-200">
            Back to Homepage
        </button>
    </div >

    <!-- Cookie Consent Banner -->
    <div id="cookie-banner" class="hidden">
        <p class="text-sm md:text-base mb-4 md:mb-0">
            <span id="cookie-message-text"></span>
            <a href="#" id="learn-more-cookies" class="text-blue-400 hover:underline ml-1"></a>.
        </p>
        <div class="cookie-buttons-main flex flex-col md:flex-row items-center justify-center gap-4 w-full">
            <button id="accept-all-cookies" class="accept-button">Accept All</button>
            <button id="manage-preferences-button" class="manage-preferences-button">Manage Preferences</button>
            <button id="decline-all-cookies" class="decline-all-button">Decline All</button>
        </div>
    </div>

    <!-- Cookie Information Modal -->
    <div id="cookie-info-modal" class="modal">
        <div class="modal-content glassy-box">
            <span class="close-button" id="close-cookie-info-modal">&times;</span>
            <h2 id="cookie-info-title" class="text-3xl font-bold">Cookie Information</h2>
            <div class="text-content mt-4">
                <p id="cookie-info-intro">
                    This website uses cookies to enhance your browsing experience and to understand how you interact with our site. By using our website, you consent to our use of cookies in accordance with this policy.
                </p>

                <h3 id="cookie-info-what-are-cookies">What Are Cookies?</h3>
                <p id="cookie-info-what-are-cookies-text">
                    Cookies are small text files stored on your device (computer, tablet, mobile) when you visit certain web pages. They are widely used to make websites work more efficiently, as well as to provide information to the owners of the site.
                </p>

                <h3 id="cookie-info-how-we-use-cookies">How We Use Cookies</h3>
                <p id="cookie-info-how-we-use-cookies-text">We use cookies for the following purposes:</p>
                <ul>
                    <li><strong id="cookie-info-essential">Essential Cookies:</strong> <span id="cookie-info-essential-text">These cookies are strictly necessary for the core functionality of our website, such as managing user sessions, remembering your cookie preferences, and enabling secure areas. Without these cookies, the website cannot function properly. They do not store any personally identifiable information.</span></li>
                    <li><strong id="cookie-info-analytics">Analytics Cookies:</strong> <span id="cookie-info-analytics-text">These cookies allow us to collect information about how visitors use our website, such as which pages are visited most often, how long users stay on a page, and if they encounter any errors. This data helps us to analyze and improve the performance and design of our website. All information collected by these cookies is aggregated and anonymous.</span></li>
                    <li><strong id="cookie-info-marketing">Marketing Cookies:</strong> <span id="cookie-info-marketing-text">These cookies are used to track visitors across websites. The intention is to display advertisements that are relevant and engaging for the individual user and thereby more valuable for publishers and third-party advertisers. They may be set through our site by our advertising partners to build a profile of your interests and show you relevant adverts on other sites.</span></li>
                </ul>

                <h3 id="cookie-info-managing-cookies">Managing Your Cookie Preferences</h3>
                <p id="cookie-info-managing-cookies-text">
                    You have the right to decide whether to accept or reject cookies. You can set your browser to refuse all or some browser cookies, or to alert you when websites set or access cookies. If you disable or refuse cookies, please note that some parts of this website may become inaccessible or not function properly.
                </p>
                <p id="cookie-info-contact">
                    For more detailed information about how we use cookies and your choices, please contact us at <a href="mailto:hello@get-shapes.com" class="text-blue-400 hover:underline">hello@get-shapes.com</a>. For a comprehensive list of the cookies we use and further details on data processing, please refer to our <a href="#" id="cookie-info-imprint-link" class="text-blue-400 hover:underline">imprint</a> and our <a href="#" id="cookie-info-privacy-policy-link" class="text-blue-400 hover:underline">Privacy Policy</a>.
                </p>
            </div>
        </div>
    </div>

    <!-- Cookie Preferences Modal -->
    <div id="cookie-preferences-modal" class="modal">
        <div class="modal-content glassy-box">
            <span class="close-button" id="close-cookie-preferences-modal">&times;</span>
            <h3 class="text-xl font-semibold mb-3" id="cookie-preferences-title">Your Cookie Preferences</h3>
            <div class="flex flex-col gap-3 w-full">
                <label for="essential-cookies">
                    <input type="checkbox" id="essential-cookies" checked disabled>
                    <span id="essential-cookies-label">Essential Cookies</span>
                    <span class="text-xs text-gray-400" id="essential-cookies-description">(Always active, necessary for site functionality)</span>
                </label>
                <label for="analytics-cookies">
                    <input type="checkbox" id="analytics-cookies">
                    <span id="analytics-cookies-label">Analytics Cookies</span>
                    <span class="text-xs text-gray-400" id="analytics-cookies-description">(Help us understand how you use our site to improve it)</span>
                </label>
                <label for="marketing-cookies">
                    <input type="checkbox" id="marketing-cookies">
                    <span class="text-xs text-gray-400" id="marketing-cookies-description">(Used to show you relevant ads on other platforms)</span>
                </label>
            </div>
            <button id="save-preferences-button" class="save-preferences-button mt-6 w-full md:w-auto">Save Preferences</button>
        </div>
    </div>

    <!-- Imprint Modal (New) -->
    <div id="imprint-modal" class="modal">
        <div class="modal-content glassy-box">
            <span class="close-button" id="close-imprint-modal">&times;</span>
            <h2 id="imprint-title" class="text-3xl font-bold mb-6">Imprint</h2>
            <div class="text-content mt-4 text-left">
                <p><strong>Company Name:</strong> <span id="imprint-company-name"></span></p>
                <p><strong>Legal Form:</strong> <span id="imprint-legal-form"></span></p>
                <p><strong>Address:</strong> <span id="imprint-address"></span></p>
                <p><strong>Email:</strong> <a href="#" id="imprint-contact-email" class="text-blue-400 hover:underline"></a></p>
                <p><strong>Phone:</strong> <span id="imprint-contact-phone"></span></p>
                <p><strong>Register Entry:</strong> <span id="imprint-register-entry"></span></p>
                <p><strong>VAT ID:</strong> <span id="imprint-vat-id"></span></p>
                <p><strong>Managing Director:</strong> <span id="imprint-managing-director"></span></p>
                <p><strong>Responsible for Content:</strong> <span id="imprint-responsible-content"></span></p>
                <p><strong>EU Commission Online Dispute Resolution Platform:</strong> <a href="https://ec.europa.eu/consumers/odr/" target="_blank" id="imprint-dispute-resolution" class="text-blue-400 hover:underline"></a></p>
            </div>
        </div>
    </div>
    
    <!-- Privacy Policy Modal (New) -->
    <div id="privacy-policy-modal" class="modal">
        <div class="modal-content glassy-box">
            <span class="close-button" id="close-privacy-policy-modal">&times;</span>
            <h2 id="privacy-policy-title" class="text-3xl font-bold mb-6">Privacy Policy</h2>
            <div class="text-content mt-4 text-left">
                <p id="privacy-policy-intro"></p>
                
                <h3>Data Controller</h3>
                <p><strong id="privacy-policy-company-name"></strong><br>
                <span id="privacy-policy-address"></span><br>
                Email: <a href="#" id="privacy-policy-contact-email" class="text-blue-400 hover:underline"></a><br>
                Phone: <span id="privacy-policy-contact-phone"></span></p>

                <h3>Types of Data Collected</h3>
                <p>We may collect and process the following types of personal data:</p>
                <ul>
                    <li><strong>Usage Data:</strong> Information about how you use our website, including IP address, browser type, operating system, referral URLs, pages viewed, and access times. This data is collected automatically through cookies and similar technologies.</li>
                    <li><strong>Contact Data:</strong> Information you provide when contacting us through forms or email, such as your name, email address, and message content.</li>
                    <li><strong>Booking Data:</strong> Information provided when scheduling a consultation, which may include your name, email, and any details you provide related to your appointment.</li>
                </ul>

                <h3>Purposes of Data Processing</h3>
                <p>We process your personal data for the following purposes:</p>
                <ul>
                    <li>To provide and maintain our website and services.</li>
                    <li>To improve our website's functionality and user experience.</li>
                    <li>To respond to your inquiries and provide customer support.</li>
                    <li>To analyze website usage and trends for marketing and optimization purposes (with your consent for non-essential cookies).</li>
                    <li>To comply with legal obligations.</li>
                </ul>

                <h3>Legal Basis for Processing</h3>
                <p>The legal basis for processing your data depends on the purpose of the processing:</p>
                <ul>
                    <li><strong>Consent:</strong> For the use of non-essential cookies (e.g., analytics, marketing) and when you explicitly agree to data processing (Art. 6(1)(a) GDPR).</li>
                    <li><strong>Contractual Necessity:</strong> For processing data necessary to fulfill a contract with you or to take steps at your request prior to entering into a contract (e.g., booking a consultation) (Art. 6(1)(b) GDPR).</li>
                    <li><strong>Legitimate Interests:</strong> For improving our website and services, provided that your interests do not override our legitimate interests (Art. 6(1)(f) GDPR).</li>
                    <li><strong>Legal Obligation:</strong> For compliance with legal obligations (Art. 6(1)(c) GDPR).</li>
                </ul>

                <h3>Data Retention</h3>
                <p>We retain your personal data only for as long as necessary to fulfill the purposes for which it was collected, or as required by law. Usage data is typically anonymized or deleted after a short period, unless required for security or legal purposes.</p>

                <h3>Your Rights</h3>
                <p>Under GDPR, you have the following rights regarding your personal data:</p>
                <ul>
                    <li><strong>Right to Access:</strong> To request copies of your personal data.</li>
                    <li><strong>Right to Rectification:</strong> To request that we correct any information you believe is inaccurate or incomplete.</li>
                    <li><strong>Right to Erasure:</strong> To request that we erase your personal data under certain conditions.</li>
                    <li><strong>Right to Restrict Processing:</strong> To request that we restrict the processing of your personal data under certain conditions.</li>
                    <li><strong>Right to Object to Processing:</strong> To object to our processing of your personal data under certain conditions.</li>
                    <li><strong>Right to Data Portability:</strong> To request that we transfer the data that we have collected to another organization, or directly to you, under certain conditions.</li>
                    <li><strong>Right to Withdraw Consent:</strong> To withdraw your consent at any time where we rely on consent to process your personal data.</li>
                    <li><strong>Right to Lodge a Complaint:</strong> To lodge a complaint with a supervisory authority, particularly in the Member State of your habitual residence, place of work, or place of the alleged infringement if you consider that the processing of personal data relating to you infringes GDPR.</li>
                </ul>
                <p>To exercise any of these rights, please contact us using the details provided in the imprint.</p>

                <h3>Changes to this Privacy Policy</h3>
                <p>We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page. You are advised to review this Privacy Policy periodically for any changes.</p>
            </div>
        </div>
    </div>


    <script>
        // Language content
        const content = {
            en: {
                scheduleCta: "Book your free consultation.",
                modalTitle: "Schedule Your Appointment",
                thankyouHeadline: "Thank you! Your appointment is confirmed.",
                thankyouSubheadline: "Check your email for confirmation.",
                backToHomepage: "Back to Homepage",
                currentLang: "EN",
                cookieMessage: "We use cookies to ensure you get the best experience on our website. By continuing to use this site, you agree to our use of cookies.",
                cookieLearnMore: "Learn more",
                cookieAcceptAll: "Accept All",
                cookieDeclineAll: "Decline All",
                cookieManagePreferences: "Manage Preferences",
                cookieSavePreferences: "Save Preferences",
                cookiePreferencesTitle: "Your Cookie Preferences",
                essentialCookiesLabel: "Essential Cookies",
                essentialCookiesDescription: "(Always active, necessary for site functionality)",
                analyticsCookiesLabel: "Analytics Cookies",
                analyticsCookiesDescription: "(Help us understand how you use our site to improve it)",
                marketingCookiesLabel: "Marketing Cookies",
                marketingCookiesDescription: "(Used to show you relevant ads on other platforms)",
                cookieInfoTitle: "Cookie Information",
                cookieInfoIntro: "This website uses cookies to enhance your browsing experience and to understand how you interact with our site. By using our website, you consent to our use of cookies in accordance with this policy.",
                cookieInfoWhatAreCookies: "What Are Cookies?",
                cookieInfoWhatAreCookiesText: "Cookies are small text files stored on your device (computer, tablet, mobile) when you visit certain web pages. They are widely used to make websites work more efficiently, as well as to provide information to the owners of the site.",
                cookieInfoHowWeUseCookies: "How We Use Cookies",
                cookieInfoHowWeWeUseCookiesText: "We use cookies for the following purposes:",
                cookieInfoEssential: "Essential Cookies:",
                cookieInfoEssentialText: "These cookies are strictly necessary for the core functionality of our website, such as managing user sessions, remembering your cookie preferences, and enabling secure areas. Without these cookies, the website cannot function properly. They do not store any personally identifiable information.",
                cookieInfoAnalytics: "Analytics Cookies:",
                cookieInfoAnalyticsText: "These cookies allow us to collect information about how visitors use our website, such as which pages are visited most often, how long users stay on a page, and if they encounter any errors. This data helps us to analyze and improve the performance and design of our website. All information collected by these cookies is aggregated and anonymous.",
                cookieInfoMarketing: "Marketing Cookies:",
                cookieInfoMarketingText: "These cookies are used to track visitors across websites. The intention is to display advertisements that are relevant and engaging for the individual user and thereby more valuable for publishers and third-party advertisers. They may be set through our site by our advertising partners to build a profile of your interests and show you relevant adverts on other sites.",
                cookieInfoManagingCookies: "Managing Your Cookie Preferences",
                cookieInfoManagingCookiesText: "You have the right to decide whether to accept or reject cookies. You can set your browser to refuse all or some browser cookies, or to alert you when websites set or access cookies. If you disable or refuse cookies, please note that some parts of this website may become inaccessible or not function properly.",
                cookieInfoContact: "For more detailed information about how we use cookies and your choices, please contact us at",
                imprintLinkText: "Imprint",
                imprintTitle: "Imprint",
                imprintCompanyName: "SI Shape - Industries GmbH", // Updated
                imprintLegalForm: "GmbH",
                imprintAddress: "Bismarckstraße 22, 66111 Saarbrücken, Germany",
                imprintContactEmail: "hello@get-shapes.com",
                imprintContactPhone: "+49 (0)30 987654321",
                imprintRegisterEntry: "District Court of Saarbrücken HRB 105861",
                imprintVatId: "DE123456789", // Placeholder for VAT ID
                imprintManagingDirector: "Sascha Zeissler",
                imprintResponsibleContent: "Sascha Zeissler",
                imprintDisputeResolution: "https://ec.europa.eu/consumers/odr/",
                footerCookiePreferencesLink: "Cookie Preferences",
                privacyPolicyLinkText: "Privacy Policy",
                privacyPolicyTitle: "Privacy Policy",
                privacyPolicyIntro: "This Privacy Policy explains how {companyName} collects, uses, and protects your personal data when you visit our website. We are committed to protecting your privacy and ensuring the security of your personal information.",
                privacyPolicyCompany: "SI Shape - Industries GmbH", // Updated
                privacyPolicyAddress: "Bismarckstraße 22, 66111 Saarbrücken, Germany", // Updated to match imprint
                privacyPolicyContactEmail: "hello@get-shapes.com", // Updated to match imprint
                privacyPolicyContactPhone: "+49 (0)30 987654321", // Updated to match imprint
            },
            de: {
                scheduleCta: "Buche deine kostenlose Beratung.",
                modalTitle: "Termin vereinbaren",
                thankyouHeadline: "Vielen Dank! Ihr Termin ist bestätigt.",
                thankyouSubheadline: "Bitte überprüfen Sie Ihre E-Mails zur Bestätigung.",
                backToHomepage: "Zur Startseite",
                currentLang: "DE",
                cookieMessage: "Wir verwenden Cookies, um sicherzustellen, dass Sie die beste Erfahrung auf unserer Website erhalten. Durch die weitere Nutzung dieser Website stimmen Sie der Verwendung von Cookies zu.",
                cookieLearnMore: "Mehr erfahren",
                cookieAcceptAll: "Alle akzeptieren",
                cookieDeclineAll: "Alle ablehnen",
                cookieManagePreferences: "Einstellungen verwalten",
                cookieSavePreferences: "Einstellungen speichern",
                cookiePreferencesTitle: "Ihre Cookie-Einstellungen",
                essentialCookiesLabel: "Essentielle Cookies",
                essentialCookiesDescription: "(Immer aktiv, notwendig für die Website-Funktionalität)",
                analyticsCookiesLabel: "Analyse-Cookies",
                analyticsCookiesDescription: "(Helfen uns zu verstehen, wie Sie unsere Website nutzen, um sie zu verbessern)",
                marketingCookiesLabel: "Marketing-Cookies",
                marketingCookiesDescription: "(Wird verwendet, um Ihnen relevante Anzeigen auf anderen Plattformen anzuzeigen)",
                cookieInfoTitle: "Cookie-Informationen",
                cookieInfoIntro: "Diese Website verwendet Cookies, um Ihr Browser-Erlebnis zu verbessern und zu verstehen, wie Sie mit unserer Website interagieren. Durch die Nutzung unserer Website stimmen Sie unserer Verwendung von Cookies gemäß dieser Richtlinie zu.",
                cookieInfoWhatAreCookies: "Was sind Cookies?",
                cookieInfoWhatAreCookiesText: "Cookies sind kleine Textdateien, die auf Ihrem Gerät (Computer, Tablet, Mobiltelefon) gespeichert werden, wenn Sie bestimmte Webseiten besuchen. Sie werden häufig verwendet, um Websites effizienter zu gestalten und den Eigentümern der Website Informationen zur Verfügung zu stellen.",
                cookieInfoHowWeUseCookies: "Wie wir Cookies verwenden",
                cookieInfoHowWeUseCookiesText: "Wir verwenden Cookies für die folgenden Zwecke:",
                cookieInfoEssential: "Essentielle Cookies:",
                cookieInfoEssentialText: "Diese Cookies sind für die Kernfunktionalität unserer Website unbedingt erforderlich, z. B. zur Verwaltung von Benutzersitzungen, zum Speichern Ihrer Cookie-Einstellungen und zur Aktivierung sicherer Bereiche. Ohne diese Cookies kann die Website nicht richtig funktionieren. Sie speichern keine persönlich identifizierbaren Informationen.",
                cookieInfoAnalytics: "Analyse-Cookies:",
                cookieInfoAnalyticsText: "Diese Cookies ermöglichen es uns, Informationen darüber zu sammeln, wie Besucher unsere Website nutzen, z. B. welche Seiten am häufigsten besucht werden, wie lange Benutzer auf einer Seite bleiben und ob Fehler auftreten. Diese Daten helfen uns, die Leistung und das Design unserer Website zu analysieren und zu verbessern. Alle von diesen Cookies gesammelten Informationen sind aggregiert und anonym.",
                cookieInfoMarketing: "Marketing Cookies:",
                cookieInfoMarketingText: "Diese Cookies werden verwendet, um Besucher über Websites hinweg zu verfolgen. Die Absicht ist, Anzeigen anzuzeigen, die für den einzelnen Benutzer relevant und ansprechend und somit für Publisher und Drittanbieter von Werbung wertvoller sind. Sie können über unsere Website von unseren Werbepartnern gesetzt werden, um ein Profil Ihrer Interessen zu erstellen und Ihnen relevante Werbung auf anderen Websites anzuzeigen.",
                cookieInfoManagingCookies: "Verwaltung Ihrer Cookie-Einstellungen",
                cookieInfoManagingCookiesText: "Sie haben das Recht zu entscheiden, ob Sie Cookies akzeptieren oder ablehnen möchten. Sie können Ihren Browser so einstellen, dass er alle oder einige Browser-Cookies ablehnt oder Sie benachrichtigt, wenn Websites Cookies setzen oder darauf zugreifen. Wenn Sie Cookies deaktivieren oder ablehnen, beachten Sie bitte, dass einige Teile dieser Website möglicherweise nicht zugänglich sind oder nicht richtig funktionieren.",
                cookieInfoContact: "Für detailliertere Informationen zur Verwendung von Cookies und Ihren Wahlmöglichkeiten kontaktieren Sie uns bitte unter",
                imprintLinkText: "Impressum",
                imprintTitle: "Impressum",
                imprintCompanyName: "SI Shape - Industries GmbH", // Updated
                imprintLegalForm: "GmbH",
                imprintAddress: "Bismarckstraße 22, 66111 Saarbrücken, Deutschland",
                imprintContactEmail: "hello@get-shapes.com",
                imprintContactPhone: "+49 (0)30 987654321",
                imprintRegisterEntry: "Amtsgericht Saarbrücken HRB 105861",
                imprintVatId: "DE123456789", // Placeholder for VAT ID
                imprintManagingDirector: "Sascha Zeissler",
                imprintResponsibleContent: "Sascha Zeissler",
                imprintDisputeResolution: "https://ec.europa.eu/consumers/odr/",
                footerCookiePreferencesLink: "Cookie-Einstellungen",
                privacyPolicyLinkText: "Datenschutzerklärung",
                privacyPolicyTitle: "Datenschutzerklärung",
                privacyPolicyIntro: "Diese Datenschutzerklärung erläutert, wie {companyName} Ihre personenbezogenen Daten beim Besuch unserer Website sammelt, verwendet und schützt. Wir verpflichten uns, Ihre Privatsphäre zu schützen und die Sicherheit Ihrer persönlichen Daten zu gewährleisten.",
                privacyPolicyCompany: "SI Shape - Industries GmbH", // Updated
                privacyPolicyAddress: "Bismarckstraße 22, 66111 Saarbrücken, Deutschland", // Updated to match imprint
                privacyPolicyContactEmail: "hello@get-shapes.com", // Updated to match imprint
                privacyPolicyContactPhone: "+49 (0)30 987654321", // Updated to match imprint
            }
        };

        let currentLanguage = 'en'; // Default language

        // Function to update content based on language
        function updateContent() {
            console.log("Updating content for language:", currentLanguage);
            const langData = content[currentLanguage];
            const modalTitle = document.getElementById('modal-title');
            const thankyouHeadline = document.getElementById('thankyou-headline');
            const thankyouSubheadline = document.getElementById('thankyou-subheadline');
            const backToHomepage = document.getElementById('back-to-homepage');
            const currentLangSpan = document.getElementById('current-lang');
            const scheduleCtaButton = document.getElementById('schedule-cta');

            // Cookie banner elements
            const cookieMessageTextElement = document.getElementById('cookie-message-text');
            const cookieLearnMoreElement = document.getElementById('learn-more-cookies');
            const acceptAllCookiesBtn = document.getElementById('accept-all-cookies');
            const declineAllCookiesBtn = document.getElementById('decline-all-cookies');
            const managePreferencesBtn = document.getElementById('manage-preferences-button');
            const savePreferencesBtn = document.getElementById('save-preferences-button');
            const cookiePreferencesTitle = document.getElementById('cookie-preferences-title');
            const essentialCookiesLabel = document.getElementById('essential-cookies-label');
            const essentialCookiesDescription = document.getElementById('essential-cookies-description');
            const analyticsCookiesLabel = document.getElementById('analytics-cookies-label');
            const analyticsCookiesDescription = document.getElementById('analytics-cookies-description');
            const marketingCookiesLabel = document.getElementById('marketing-cookies-label');
            const marketingCookiesDescription = document.getElementById('marketing-cookies-description');

            // Cookie Info Modal elements
            const cookieInfoTitle = document.getElementById('cookie-info-title');
            const cookieInfoIntro = document.getElementById('cookie-info-intro');
            const cookieInfoWhatAreCookies = document.getElementById('cookie-info-what-are-cookies');
            const cookieInfoWhatAreCookiesText = document.getElementById('cookie-info-what-are-cookies-text');
            const cookieInfoHowWeUseCookies = document.getElementById('cookie-info-how-we-use-cookies');
            const cookieInfoHowWeUseCookiesText = document.getElementById('cookie-info-how-we-use-cookies-text');
            const cookieInfoEssential = document.getElementById('cookie-info-essential');
            const cookieInfoEssentialText = document.getElementById('cookie-info-essential-text');
            const cookieInfoAnalytics = document.getElementById('cookie-info-analytics');
            const cookieInfoAnalyticsText = document.getElementById('cookie-info-analytics-text');
            const cookieInfoMarketing = document.getElementById('cookie-info-marketing');
            const cookieInfoMarketingText = document.getElementById('cookie-info-marketing-text');
            const cookieInfoManagingCookies = document.getElementById('cookie-info-managing-cookies');
            const cookieInfoManagingCookiesText = document.getElementById('cookie-info-managing-cookies-text');
            const cookieInfoContact = document.getElementById('cookie-info-contact');
            const cookieInfoImprintLink = document.getElementById('cookie-info-imprint-link');
            const cookieInfoPrivacyPolicyLink = document.getElementById('cookie-info-privacy-policy-link');

            // Imprint Modal elements
            const imprintLink = document.getElementById('imprint-link');
            const imprintTitle = document.getElementById('imprint-title');
            const imprintCompanyName = document.getElementById('imprint-company-name');
            const imprintLegalForm = document.getElementById('imprint-legal-form');
            const imprintAddress = document.getElementById('imprint-address');
            const imprintContactEmail = document.getElementById('imprint-contact-email');
            const imprintContactPhone = document.getElementById('imprint-contact-phone');
            const imprintRegisterEntry = document.getElementById('imprint-register-entry');
            const imprintVatId = document.getElementById('imprint-vat-id');
            const imprintManagingDirector = document.getElementById('imprint-managing-director');
            const imprintResponsibleContent = document.getElementById('imprint-responsible-content');
            const imprintDisputeResolution = document.getElementById('imprint-dispute-resolution');
            const footerCookiePreferencesLink = document.getElementById('footer-cookie-preferences-link');

            // Privacy Policy Modal elements
            const privacyPolicyLink = document.getElementById('privacy-policy-link');
            const privacyPolicyTitle = document.getElementById('privacy-policy-title');
            const privacyPolicyIntro = document.getElementById('privacy-policy-intro');
            const privacyPolicyCompanyName = document.getElementById('privacy-policy-company-name');
            const privacyPolicyAddress = document.getElementById('privacy-policy-address');
            const privacyPolicyContactEmail = document.getElementById('privacy-policy-contact-email');
            const privacyPolicyContactPhone = document.getElementById('privacy-policy-contact-phone');


            if (modalTitle) modalTitle.textContent = langData.modalTitle;
            if (thankyouHeadline) thankyouHeadline.textContent = langData.thankyouHeadline;
            if (thankyouSubheadline) thankyouSubheadline.textContent = langData.thankyouSubheadline;
            if (backToHomepage) backToHomepage.textContent = langData.backToHomepage;
            if (currentLangSpan) currentLangSpan.textContent = langData.currentLang;
            if (scheduleCtaButton) scheduleCtaButton.textContent = langData.scheduleCta;

            // Update cookie banner content
            if (cookieMessageTextElement) cookieMessageTextElement.textContent = langData.cookieMessage;
            if (cookieLearnMoreElement) cookieLearnMoreElement.textContent = langData.cookieLearnMore;
            if (acceptAllCookiesBtn) acceptAllCookiesBtn.textContent = langData.cookieAcceptAll;
            if (declineAllCookiesBtn) declineAllCookiesBtn.textContent = langData.cookieDeclineAll;
            if (managePreferencesBtn) managePreferencesBtn.textContent = langData.cookieManagePreferences;
            if (savePreferencesBtn) savePreferencesBtn.textContent = langData.cookieSavePreferences;
            if (cookiePreferencesTitle) cookiePreferencesTitle.textContent = langData.cookiePreferencesTitle;
            if (essentialCookiesLabel) essentialCookiesLabel.textContent = langData.essentialCookiesLabel;
            if (essentialCookiesDescription) essentialCookiesDescription.textContent = langData.essentialCookiesDescription;
            if (analyticsCookiesLabel) analyticsCookiesLabel.textContent = langData.analyticsCookiesLabel;
            if (analyticsCookiesDescription) analyticsCookiesDescription.textContent = langData.analyticsCookiesDescription;
            if (marketingCookiesLabel) marketingCookiesLabel.textContent = langData.marketingCookiesLabel;
            if (marketingCookiesDescription) marketingCookiesDescription.textContent = langData.marketingCookiesDescription;


            // Update Cookie Info Modal content
            if (cookieInfoTitle) cookieInfoTitle.textContent = langData.cookieInfoTitle;
            if (cookieInfoIntro) cookieInfoIntro.textContent = langData.cookieInfoIntro;
            if (cookieInfoWhatAreCookies) cookieInfoWhatAreCookies.textContent = langData.cookieInfoWhatAreCookies;
            if (cookieInfoWhatAreCookiesText) cookieInfoWhatAreCookiesText.textContent = langData.cookieInfoWhatAreCookiesText;
            if (cookieInfoHowWeUseCookies) cookieInfoHowWeUseCookies.textContent = langData.cookieInfoHowWeUseCookies;
            if (cookieInfoHowWeUseCookiesText) cookieInfoHowWeUseCookiesText.textContent = langData.cookieInfoHowWeUseCookiesText;
            if (cookieInfoEssential) cookieInfoEssential.textContent = langData.cookieInfoEssential;
            if (cookieInfoEssentialText) cookieInfoEssentialText.textContent = langData.cookieInfoEssentialText;
            if (cookieInfoAnalytics) cookieInfoAnalytics.textContent = langData.cookieInfoAnalytics;
            if (cookieInfoAnalyticsText) cookieInfoAnalyticsText.textContent = langData.cookieInfoAnalyticsText;
            if (cookieInfoMarketing) cookieInfoMarketing.textContent = langData.cookieInfoMarketing;
            if (cookieInfoMarketingText) cookieInfoMarketingText.textContent = langData.cookieInfoMarketingText;
            if (cookieInfoManagingCookies) cookieInfoManagingCookies.textContent = langData.cookieInfoManagingCookies;
            if (cookieInfoManagingCookiesText) cookieInfoManagingCookiesText.textContent = langData.cookieInfoManagingCookiesText;
            if (cookieInfoContact) {
                // Update the entire innerHTML to include the new Privacy Policy link
                cookieInfoContact.innerHTML = `${langData.cookieInfoContact} <a href="mailto:${langData.imprintContactEmail}" class="text-blue-400 hover:underline">${langData.imprintContactEmail}</a>. For a comprehensive list of the cookies we use and further details on data processing, please refer to our <a href="#" id="cookie-info-imprint-link" class="text-blue-400 hover:underline">imprint</a> and our <a href="#" id="cookie-info-privacy-policy-link" class="text-blue-400 hover:underline">Privacy Policy</a>.`;
            }

            // Update Imprint Modal content
            if (imprintLink) imprintLink.textContent = langData.imprintLinkText;
            if (imprintTitle) imprintTitle.textContent = langData.imprintTitle;
            if (imprintCompanyName) imprintCompanyName.textContent = langData.imprintCompanyName;
            if (imprintLegalForm) imprintLegalForm.textContent = langData.imprintLegalForm;
            if (imprintAddress) imprintAddress.textContent = langData.imprintAddress;
            if (imprintContactEmail) imprintContactEmail.href = `mailto:${langData.imprintContactEmail}`; // Update href
            if (imprintContactEmail) imprintContactEmail.textContent = langData.imprintContactEmail; // Update text
            if (imprintContactPhone) imprintContactPhone.textContent = langData.imprintContactPhone;
            if (imprintRegisterEntry) imprintRegisterEntry.textContent = langData.imprintRegisterEntry;
            if (imprintVatId) imprintVatId.textContent = langData.imprintVatId;
            if (imprintManagingDirector) imprintManagingDirector.textContent = langData.imprintManagingDirector;
            if (imprintResponsibleContent) imprintResponsibleContent.textContent = langData.imprintResponsibleContent;
            if (imprintDisputeResolution) imprintDisputeResolution.href = langData.imprintDisputeResolution; // Update new field href
            if (imprintDisputeResolution) imprintDisputeResolution.textContent = langData.imprintDisputeResolution; // Update new field text


            // Update Footer Cookie Preferences Link
            if (footerCookiePreferencesLink) footerCookiePreferencesLink.textContent = langData.footerCookiePreferencesLink;

            // Update Privacy Policy Modal content
            if (privacyPolicyLink) privacyPolicyLink.textContent = langData.privacyPolicyLinkText;
            if (privacyPolicyTitle) privacyPolicyTitle.textContent = langData.privacyPolicyTitle;
            if (privacyPolicyIntro) {
                privacyPolicyIntro.textContent = langData.privacyPolicyIntro.replace('{companyName}', langData.imprintCompanyName);
            }
            if (privacyPolicyCompanyName) privacyPolicyCompanyName.textContent = langData.imprintCompanyName;
            if (privacyPolicyAddress) privacyPolicyAddress.textContent = langData.imprintAddress;
            if (privacyPolicyContactEmail) {
                privacyPolicyContactEmail.href = `mailto:${langData.imprintContactEmail}`;
                privacyPolicyContactEmail.textContent = langData.imprintContactEmail;
            }
            if (privacyPolicyContactPhone) privacyPolicyContactPhone.textContent = langData.imprintContactPhone;


            // Update link colors based on theme
            const isLightModeActive = document.documentElement.classList.contains('light-mode');
            const linkColorClass = isLightModeActive ? 'text-blue-700' : 'text-blue-400';
            const hoverLinkColorClass = isLightModeActive ? 'hover:text-blue-900' : 'hover:text-blue-600';

            // Apply blue colors to modal links
            document.querySelectorAll('#cookie-info-imprint-link, #cookie-info-privacy-policy-link, #cookie-info-modal a[href^="mailto:"], #imprint-modal a[href^="mailto:"], #imprint-modal a[href^="https://ec.europa.eu"], #privacy-policy-modal a[href^="mailto:"]').forEach(link => {
                link.classList.remove('text-blue-400', 'hover:underline', 'text-blue-700', 'hover:text-blue-900', 'hover:text-blue-600', 'text-gray-400', 'hover:text-gray-200', 'text-black', 'hover:text-gray-700');
                link.classList.add(linkColorClass, hoverLinkColorClass, 'hover:underline');
            });

            // Apply footer text color to specific footer links
            const footerLinkColorClass = isLightModeActive ? 'text-black' : 'text-gray-400';
            const footerHoverLinkColorClass = isLightModeActive ? 'hover:text-gray-700' : 'hover:text-gray-200';

            document.querySelectorAll('#imprint-link, #footer-cookie-preferences-link, #privacy-policy-link').forEach(link => {
                link.classList.remove('text-blue-400', 'hover:underline', 'text-blue-700', 'hover:text-blue-900', 'hover:text-blue-600', 'text-gray-400', 'hover:text-gray-200', 'text-black', 'hover:text-gray-700');
                link.classList.add(footerLinkColorClass, footerHoverLinkColorClass, 'hover:underline');
            });
        }

        // Function to update the theme toggle icon
        function updateThemeToggleIcon() {
            const themeToggleBtn = document.getElementById('theme-toggle');
            const isLightModeActive = document.documentElement.classList.contains('light-mode');
            console.log("Updating theme icon. Is light mode active:", isLightModeActive);
            if (themeToggleBtn) {
                if (!isLightModeActive) { // If light-mode is NOT active, it's dark mode
                    themeToggleBtn.innerHTML = `
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.128 6.062a.75.75 0 10-1.06-1.06l-1.59 1.59a.75.75 0 001.06 1.06l1.59-1.59zM2.25 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H3a.75.75 0 01-.75-.75zM6.062 16.872a.75.75 0 101.06 1.06l1.59-1.59a.75.75 0 00-1.06-1.06l-1.59 1.59zM12 18.75a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0v-2.25a.75.75 0 01.75-.75zM16.872 17.938a.75.75 0 101.06 1.06l1.59-1.59a.75.75 0 00-1.06-1.06l-1.59 1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5h2.25a.75.75 0 01.75.75zM17.938 7.128a.75.75 0 10-1.06-1.06l-1.59 1.59a.75.75 0 001.06 1.06l1.59-1.59zM12 15a3 3 0 100-6 3 3 0 000 6z"/>
                        </svg>
                    `; // Sun icon for dark mode
                } else { // It's light mode
                    themeToggleBtn.innerHTML = `
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    `; // Half moon icon for light mode
                }
            }
        }

        // Function to load external scripts conditionally
        function loadExternalScripts(consent) {
            // Remove existing GA scripts if they were loaded previously
            document.querySelectorAll('[data-script-type="analytics"]').forEach(el => el.remove());

            if (consent.analytics) {
                // Google Analytics
                const gaScript = document.createElement('script');
                gaScript.async = true;
                gaScript.src = "https://www.googletagmanager.com/gtag/js?id=YOUR_GA_TRACKING_ID";
                gaScript.setAttribute('data-script-type', 'analytics');
                document.head.appendChild(gaScript);

                gaScript.onload = () => {
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', 'YOUR_GA_TRACKING_ID');
                    console.log("Google Analytics loaded.");
                };
            }
            // Removed Facebook Pixel loading logic
        }


        // This ensures the DOM is fully loaded before trying to access elements
        document.addEventListener('DOMContentLoaded', () => {
            // DOM elements
            const calendlyModal = document.getElementById('calendly-modal');
            const closeModalBtn = document.getElementById('close-modal');
            const landingPageContent = document.getElementById('landing-page-content');
            const thankYouPage = document.getElementById('thank-you-page');
            const backToHomepageBtn = document.getElementById('back-to-homepage');
            const langToggleBtn = document.getElementById('lang-toggle');
            const currentLangSpan = document.getElementById('current-lang');
            const themeToggleBtn = document.getElementById('theme-toggle');
            const mainLogo = document.getElementById('main-logo');
            const scheduleCtaButton = document.getElementById('schedule-cta');

            // Cookie banner elements
            const cookieBanner = document.getElementById('cookie-banner');
            const acceptAllCookiesBtn = document.getElementById('accept-all-cookies');
            const declineAllCookiesBtn = document.getElementById('decline-all-cookies');
            const managePreferencesBtn = document.getElementById('manage-preferences-button');
            const savePreferencesBtn = document.getElementById('save-preferences-button');
            const essentialCookiesCheckbox = document.getElementById('essential-cookies');
            const analyticsCookiesCheckbox = document.getElementById('analytics-cookies');
            const marketingCookiesCheckbox = document.getElementById('marketing-cookies');
            const learnMoreCookiesLink = document.getElementById('learn-more-cookies');

            // Cookie Info Modal elements
            const cookieInfoModal = document.getElementById('cookie-info-modal');
            const closeCookieInfoModalBtn = document.getElementById('close-cookie-info-modal');
            const cookieInfoImprintLink = document.getElementById('cookie-info-imprint-link');
            const cookieInfoPrivacyPolicyLink = document.getElementById('cookie-info-privacy-policy-link');

            // Cookie Preferences Modal elements (new)
            const cookiePreferencesModal = document.getElementById('cookie-preferences-modal');
            const closeCookiePreferencesModalBtn = document.getElementById('close-cookie-preferences-modal');

            // Imprint Modal elements (new)
            const imprintModal = document.getElementById('imprint-modal');
            const closeImprintModalBtn = document.getElementById('close-imprint-modal');
            const imprintLink = document.getElementById('imprint-link');
            const footerCookiePreferencesLink = document.getElementById('footer-cookie-preferences-link');

            // Privacy Policy Modal elements (New)
            const privacyPolicyModal = document.getElementById('privacy-policy-modal');
            const closePrivacyPolicyModalBtn = document.getElementById('close-privacy-policy-modal');
            const privacyPolicyLink = document.getElementById('privacy-policy-link');


            // Initial theme application (already handled by inline script in head for FOUC prevention)
            const savedTheme = localStorage.getItem('theme');
            let isLightModeInitial = false;
            if (savedTheme === 'light') {
                isLightModeInitial = true;
            }

            if (isLightModeInitial) {
                if (mainLogo) mainLogo.src = 'Shapes-Logo neu Black.png';
                if (cookieBanner) cookieBanner.classList.add('light-mode');
            } else {
                if (mainLogo) mainLogo.src = 'Shapes-Logo neu White.png';
                if (cookieBanner) cookieBanner.classList.remove('light-mode');
            }
            updateThemeToggleIcon(); // Set initial icon on load

            // Set initial language based on browser preference or default to 'en'
            const browserLang = navigator.language.split('-')[0];
            const availableLangs = Object.keys(content);
            const initialLang = availableLangs.includes(browserLang) ? browserLang : 'en';
            currentLanguage = initialLang;
            updateContent(); // Initial content update

            // Cookie Consent Logic - Read and apply stored preferences
            let cookieConsent = JSON.parse(localStorage.getItem('cookieConsent'));

            if (cookieConsent === null) {
                // If no consent, show the banner
                if (cookieBanner) {
                    cookieBanner.classList.remove('hidden');
                    console.log("Cookie banner shown on load (no consent). ClassList:", Array.from(cookieBanner.classList), "Computed Display:", getComputedStyle(cookieBanner).display);
                }
                // Default checkboxes to checked if no prior consent
                if (essentialCookiesCheckbox) essentialCookiesCheckbox.checked = true;
                if (analyticsCookiesCheckbox) analyticsCookiesCheckbox.checked = true;
                if (marketingCookiesCheckbox) marketingCookiesCheckbox.checked = true;
            } else {
                // If consent exists, hide the banner and apply preferences
                if (cookieBanner) {
                    cookieBanner.classList.add('hidden');
                    console.log("Cookie banner hidden on load (consent exists). ClassList:", Array.from(cookieBanner.classList), "Computed Display:", getComputedStyle(cookieBanner).display);
                }
                if (essentialCookiesCheckbox) essentialCookiesCheckbox.checked = cookieConsent.essential;
                if (analyticsCookiesCheckbox) analyticsCookiesCheckbox.checked = cookieConsent.analytics;
                // Since marketing cookies are no longer relevant for Facebook Pixel, ensure it's false if no other marketing tools are used
                if (marketingCookiesCheckbox) marketingCookiesCheckbox.checked = cookieConsent.marketing;
                loadExternalScripts(cookieConsent); // Load scripts based on stored consent
            }


            // Event Listeners for Cookie Banner Buttons
            if (acceptAllCookiesBtn) {
                acceptAllCookiesBtn.addEventListener('click', () => {
                    const consent = { essential: true, analytics: true, marketing: marketingCookiesCheckbox ? marketingCookiesCheckbox.checked : false }; // Marketing consent remains if other tools are added later
                    localStorage.setItem('cookieConsent', JSON.stringify(consent));
                    if (cookieBanner) {
                        cookieBanner.classList.add('hidden');
                        console.log("Accept All Cookies clicked. Cookie banner hidden. ClassList:", Array.from(cookieBanner.classList), "Computed Display:", getComputedStyle(cookieBanner).display);
                    }
                    loadExternalScripts(consent);
                });
            }

            if (declineAllCookiesBtn) {
                declineAllCookiesBtn.addEventListener('click', () => {
                    const consent = { essential: true, analytics: false, marketing: false }; // Essential always true
                    localStorage.setItem('cookieConsent', JSON.stringify(consent));
                    if (cookieBanner) {
                        cookieBanner.classList.add('hidden');
                        console.log("Decline All Cookies clicked. Cookie banner hidden. ClassList:", Array.from(cookieBanner.classList), "Computed Display:", getComputedStyle(cookieBanner).display);
                    }
                    loadExternalScripts(consent); // This will remove analytics/marketing scripts
                });
            }

            if (managePreferencesBtn) {
                managePreferencesBtn.addEventListener('click', () => {
                    if (cookieBanner) {
                        cookieBanner.classList.add('hidden'); // Hide main banner
                        console.log("Manage Preferences clicked. Main cookie banner hidden. ClassList:", Array.from(cookieBanner.classList), "Computed Display:", getComputedStyle(cookieBanner).display);
                    }
                    if (cookiePreferencesModal) {
                        // Ensure checkboxes reflect current consent before opening
                        const currentConsent = JSON.parse(localStorage.getItem('cookieConsent')) || { essential: true, analytics: false, marketing: false };
                        if (essentialCookiesCheckbox) essentialCookiesCheckbox.checked = currentConsent.essential;
                        if (analyticsCookiesCheckbox) analyticsCookiesCheckbox.checked = currentConsent.analytics;
                        if (marketingCookiesCheckbox) marketingCookiesCheckbox.checked = currentConsent.marketing;

                        cookiePreferencesModal.style.display = 'flex';
                        console.log("Cookie preferences modal shown. Current display:", cookiePreferencesModal.style.display, "Computed Display:", getComputedStyle(cookiePreferencesModal).display);
                    } else {
                        console.log("cookiePreferencesModal element not found!");
                    }
                });
            }

            if (savePreferencesBtn) {
                savePreferencesBtn.addEventListener('click', () => {
                    const consent = {
                        essential: true, // Essential is always true
                        analytics: analyticsCookiesCheckbox ? analyticsCookiesCheckbox.checked : false,
                        marketing: marketingCookiesCheckbox ? marketingCookiesCheckbox.checked : false
                    };
                    localStorage.setItem('cookieConsent', JSON.stringify(consent));
                    if (cookieBanner) {
                        cookieBanner.classList.add('hidden'); // Ensure banner is hidden
                        console.log("Save Preferences clicked. Cookie banner hidden. ClassList:", Array.from(cookieBanner.classList), "Computed Display:", getComputedStyle(cookieBanner).display);
                    }
                    if (cookiePreferencesModal) {
                        cookiePreferencesModal.style.display = 'none'; // Close the preferences modal
                        console.log("Cookie preferences modal hidden. Current display:", cookiePreferencesModal.style.display, "Computed Display:", getComputedStyle(cookiePreferencesModal).display);
                    }
                    loadExternalScripts(consent);
                });
            }

            // Open Cookie Info Modal
            if (learnMoreCookiesLink) {
                learnMoreCookiesLink.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent default link behavior
                    console.log("Learn more cookies link clicked.");
                    if (cookieInfoModal) {
                        cookieInfoModal.style.display = 'flex';
                        console.log("cookieInfoModal display set to flex. Current display:", cookieInfoModal.style.display, "Computed Display:", getComputedStyle(cookieInfoModal).display);
                    } else {
                        console.log("cookieInfoModal element not found!");
                    }
                });
            }

            // Close Cookie Info Modal
            if (closeCookieInfoModalBtn) {
                closeCookieInfoModalBtn.addEventListener('click', () => {
                    if (cookieInfoModal) {
                        cookieInfoModal.style.display = 'none';
                        console.log("Cookie info modal closed. Current display:", cookieInfoModal.style.display, "Computed Display:", getComputedStyle(cookieInfoModal).display);
                    }
                });
            }

            // Close Cookie Info Modal if clicking outside content
            if (cookieInfoModal) {
                cookieInfoModal.addEventListener('click', (e) => {
                    if (e.target === cookieInfoModal) {
                        if (cookieInfoModal) {
                            cookieInfoModal.style.display = 'none';
                            console.log("Clicked outside cookie info modal. Current display:", cookieInfoModal.style.display, "Computed Display:", getComputedStyle(cookieInfoModal).display);
                        }
                    }
                });
            }

            // Open Imprint from Cookie Info Modal
            if (cookieInfoImprintLink) {
                cookieInfoImprintLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (cookieInfoModal) cookieInfoModal.style.display = 'none'; // Close cookie info modal
                    if (imprintModal) imprintModal.style.display = 'flex'; // Open imprint modal
                });
            }

            // Open Privacy Policy from Cookie Info Modal
            if (cookieInfoPrivacyPolicyLink) {
                cookieInfoPrivacyPolicyLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (cookieInfoModal) cookieInfoModal.style.display = 'none'; // Close cookie info modal
                    if (privacyPolicyModal) privacyPolicyModal.style.display = 'flex'; // Open privacy policy modal
                });
            }

            // Close Cookie Preferences Modal
            if (closeCookiePreferencesModalBtn) {
                closeCookiePreferencesModalBtn.addEventListener('click', () => {
                    console.log("Closing preferences modal without saving. Re-showing banner.");
                    if (cookiePreferencesModal) {
                        cookiePreferencesModal.style.display = 'none';
                        console.log("Cookie preferences modal hidden. Current display:", cookiePreferencesModal.style.display, "Computed Display:", getComputedStyle(cookiePreferencesModal).display);
                    }
                    // If preferences modal is closed without saving, show the main banner again
                    if (cookieBanner) {
                        cookieBanner.classList.remove('hidden');
                        console.log("Cookie banner re-shown after preferences modal close. ClassList:", Array.from(cookieBanner.classList), "Computed Display:", getComputedStyle(cookieBanner).display);
                    }
                });
            }

            // Close Cookie Preferences Modal if clicking outside content
            if (cookiePreferencesModal) {
                cookiePreferencesModal.addEventListener('click', (e) => {
                    if (e.target === cookiePreferencesModal) {
                        console.log("Clicked outside preferences modal. Re-showing banner.");
                        if (cookiePreferencesModal) {
                            cookiePreferencesModal.style.display = 'none';
                            console.log("Cookie preferences modal hidden. Current display:", cookiePreferencesModal.style.display, "Computed Display:", getComputedStyle(cookiePreferencesModal).display);
                        }
                        // If preferences modal is closed by clicking outside, show the main banner again
                        if (cookieBanner) {
                            cookieBanner.classList.remove('hidden');
                            console.log("Cookie banner re-shown after preferences modal outside click. ClassList:", Array.from(cookieBanner.classList), "Computed Display:", getComputedStyle(cookieBanner).display);
                        }
                    }
                });
            }

            // Open Imprint Modal from Footer
            if (imprintLink) {
                imprintLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (imprintModal) imprintModal.style.display = 'flex';
                });
            }

            // Open Cookie Preferences from Footer
            if (footerCookiePreferencesLink) {
                footerCookiePreferencesLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (cookiePreferencesModal) {
                        // Ensure checkboxes reflect current consent before opening
                        const currentConsent = JSON.parse(localStorage.getItem('cookieConsent')) || { essential: true, analytics: false, marketing: false };
                        if (essentialCookiesCheckbox) essentialCookiesCheckbox.checked = currentConsent.essential;
                        if (analyticsCookiesCheckbox) analyticsCookiesCheckbox.checked = currentConsent.analytics;
                        if (marketingCookiesCheckbox) marketingCookiesCheckbox.checked = currentConsent.marketing;

                        cookiePreferencesModal.style.display = 'flex';
                    }
                });
            }

            // Close Imprint Modal
            if (closeImprintModalBtn) {
                closeImprintModalBtn.addEventListener('click', () => {
                    if (imprintModal) imprintModal.style.display = 'none';
                });
            }

            // Close Imprint Modal if clicking outside content
            if (imprintModal) {
                imprintModal.addEventListener('click', (e) => {
                    if (e.target === imprintModal) {
                        if (imprintModal) imprintModal.style.display = 'none';
                    }
                });
            }

            // Open Privacy Policy Modal from Footer
            if (privacyPolicyLink) {
                privacyPolicyLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    if (privacyPolicyModal) privacyPolicyModal.style.display = 'flex';
                });
            }

            // Close Privacy Policy Modal
            if (closePrivacyPolicyModalBtn) {
                closePrivacyPolicyModalBtn.addEventListener('click', () => {
                    if (privacyPolicyModal) privacyPolicyModal.style.display = 'none';
                });
            }

            // Close Privacy Policy Modal if clicking outside content
            if (privacyPolicyModal) {
                privacyPolicyModal.addEventListener('click', (e) => {
                    if (e.target === privacyPolicyModal) {
                        if (privacyPolicyModal) privacyPolicyModal.style.display = 'none';
                    }
                });
            }


            // Show Calendly Modal from main CTA
            if (scheduleCtaButton) {
                scheduleCtaButton.addEventListener('click', () => {
                    console.log("Schedule CTA button clicked!");
                    if (calendlyModal) calendlyModal.style.display = 'flex';
                });
            }

            // Close Calendly Modal
            if (closeModalBtn) {
                closeModalBtn.addEventListener('click', () => {
                    console.log("Close modal button clicked!");
                    if (calendlyModal) calendlyModal.style.display = 'none';
                });
            }

            // Close modal if clicking outside content
            if (calendlyModal) {
                calendlyModal.addEventListener('click', (e) => {
                    if (e.target === calendlyModal) {
                        console.log("Clicked outside modal, closing.");
                        calendlyModal.style.display = 'none';
                    }
                });
            }

            // Back to Homepage from Thank You Page
            if (backToHomepageBtn && thankYouPage && landingPageContent) {
                backToHomepageBtn.addEventListener('click', () => {
                    console.log("Back to homepage button clicked!");
                    thankYouPage.classList.add('hidden');
                    landingPageContent.classList.remove('hidden');
                });
            }

            // Video looping logic
            const mainVideo = document.getElementById('mainVideo');
            const videoSources = [
                'Zurab 1.mp4' // Only Zurab video
            ];
            let currentVideoIndex = 0;

            // Set initial video source on script load (or when video element is ready)
            if (mainVideo) {
                mainVideo.src = videoSources[currentVideoIndex];

                mainVideo.addEventListener('ended', () => {
                    console.log("Video ended, switching to next video.");
                    currentVideoIndex++;
                    if (currentVideoIndex >= videoSources.length) {
                        currentVideoIndex = 0; // Loop back to the first video
                    }
                    mainVideo.src = videoSources[currentVideoIndex];
                    mainVideo.load(); // Load the new video source
                    mainVideo.play().catch(error => {
                        console.log("Autoplay prevented after video ended:", error);
                    });
                });

                // Attempt to play on load (will be caught if autoplay is blocked)
                mainVideo.play().catch(error => {
                    console.log("Initial autoplay prevented:", error);
                });
            }

            // Language Toggle Event Listener (Direct Toggle)
            if (langToggleBtn) { // Check if the button exists
                langToggleBtn.addEventListener('click', () => {
                    console.log("Language toggle clicked!");
                    currentLanguage = (currentLanguage === 'en') ? 'de' : 'en';
                    updateContent(); // Update content based on new language
                });
            }

            // Theme Toggle Event Listener
            if (themeToggleBtn && mainLogo) {
                themeToggleBtn.addEventListener('click', () => {
                    console.log("Theme toggle clicked!");
                    // Toggle the 'light-mode' class on both html and body
                    document.documentElement.classList.toggle('light-mode');
                    document.body.classList.toggle('light-mode');
                    
                    // Update localStorage and logo based on the new state
                    if (document.documentElement.classList.contains('light-mode')) {
                        localStorage.setItem('theme', 'light');
                        mainLogo.src = 'Shapes-Logo neu Black.png';
                        if (cookieBanner) cookieBanner.classList.add('light-mode'); // Apply light mode to banner
                    } else {
                        localStorage.setItem('theme', 'dark');
                        mainLogo.src = 'Shapes-Logo neu White.png';
                        if (cookieBanner) cookieBanner.classList.remove('light-mode'); // Remove light mode from banner
                    }
                    updateThemeToggleIcon(); // Update icon after theme change
                    updateContent(); // Re-apply link colors based on new theme
                });
            }
        });
    </script>

</body>
</html>
